# 容器管理
<!-- TOC -->
- [容器管理](#容器管理)
    - [创建容器](#创建容器)
    - [启动容器](#启动容器)
    - [运行容器](#运行容器)
    - [停止容器](#停止容器)
    - [强制停止容器](#强制停止容器)
    - [删除容器](#删除容器)
    - [接入容器](#接入容器)
    - [重命名容器](#重命名容器)
    - [在容器中执行新命令](#在容器中执行新命令)
    - [查询单个容器信息](#查询单个容器信息)
    - [查询所有容器信息](#查询所有容器信息)
    - [重启容器](#重启容器)
    - [等待容器退出](#等待容器退出)
    - [查看容器中进程信息](#查看容器中进程信息)
    - [查看容器使用的资源](#查看容器使用的资源)
    - [获取容器日志](#获取容器日志)
    - [容器与主机之间数据拷贝](#容器与主机之间数据拷贝)
    - [暂停容器](#暂停容器)
    - [恢复容器](#恢复容器)
    - [从服务端实时获取事件消息](#从服务端实时获取事件消息)
<!-- /TOC -->

## 创建容器

### 描述

isula create 命令用于创建一个新的容器。容器引擎会使用指定的容器镜像创建容器读写层，或者使用指定的本地rootfs作为容器的运行环境。创建完成后，会将容器的ID输出到标准输出，后续可以使用isula start 命令启动该容器。新创建的容器状态为**inited**状态

### 用法

```
isula create [OPTIONS] IMAGE [COMMAND] [ARG...]
```

### 参数

create命令支持参数参考下表。

**表 1**  create命令参数列表

<a name="zh-cn_topic_0182207105_table36127413817"></a>
<table><tbody><tr id="zh-cn_topic_0182207105_row1457792217573"><td class="cellrowborder" valign="top" width="17.44%"><p id="zh-cn_topic_0182207105_p2578182275712"><a name="zh-cn_topic_0182207105_p2578182275712"></a><a name="zh-cn_topic_0182207105_p2578182275712"></a><strong id="zh-cn_topic_0182207105_b6563101485812"><a name="zh-cn_topic_0182207105_b6563101485812"></a><a name="zh-cn_topic_0182207105_b6563101485812"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.190000000000005%"><p id="zh-cn_topic_0182207105_p657892213573"><a name="zh-cn_topic_0182207105_p657892213573"></a><a name="zh-cn_topic_0182207105_p657892213573"></a><strong id="zh-cn_topic_0182207105_b18644195580"><a name="zh-cn_topic_0182207105_b18644195580"></a><a name="zh-cn_topic_0182207105_b18644195580"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.37%"><p id="zh-cn_topic_0182207105_p15578102285710"><a name="zh-cn_topic_0182207105_p15578102285710"></a><a name="zh-cn_topic_0182207105_p15578102285710"></a><strong id="zh-cn_topic_0182207105_b1064111916582"><a name="zh-cn_topic_0182207105_b1064111916582"></a><a name="zh-cn_topic_0182207105_b1064111916582"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row11591115892517"><td class="cellrowborder" rowspan="49" valign="top" width="17.44%"><p id="zh-cn_topic_0182207105_p1921425017550"><a name="zh-cn_topic_0182207105_p1921425017550"></a><a name="zh-cn_topic_0182207105_p1921425017550"></a><strong id="zh-cn_topic_0182207105_b112687501808"><a name="zh-cn_topic_0182207105_b112687501808"></a><a name="zh-cn_topic_0182207105_b112687501808"></a>create</strong></p>
<p id="zh-cn_topic_0182207105_p7986133491612"><a name="zh-cn_topic_0182207105_p7986133491612"></a><a name="zh-cn_topic_0182207105_p7986133491612"></a>&nbsp;&nbsp;</p>
</td>
<td class="cellrowborder" valign="top" width="39.190000000000005%"><p id="zh-cn_topic_0182207105_p8129151463514"><a name="zh-cn_topic_0182207105_p8129151463514"></a><a name="zh-cn_topic_0182207105_p8129151463514"></a>--annotation</p>
</td>
<td class="cellrowborder" valign="top" width="43.37%"><p id="zh-cn_topic_0182207105_p5129191418354"><a name="zh-cn_topic_0182207105_p5129191418354"></a><a name="zh-cn_topic_0182207105_p5129191418354"></a>设置容器的annotations。例如支持native.umask选项：</p>
<pre class="screen" id="zh-cn_topic_0182207105_screen1112917145352"><a name="zh-cn_topic_0182207105_screen1112917145352"></a><a name="zh-cn_topic_0182207105_screen1112917145352"></a>--annotation native.umask=normal # 启动的容器umask值为0022
--annotation native.umask=secure # 启动的容器umask值为0027</pre>
<p id="zh-cn_topic_0182207105_p10129314183518"><a name="zh-cn_topic_0182207105_p10129314183518"></a><a name="zh-cn_topic_0182207105_p10129314183518"></a>注意如果没有配置该参数，则使用isulad中的umask配置。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row7680255217"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p522218401851"><a name="zh-cn_topic_0182207105_p522218401851"></a><a name="zh-cn_topic_0182207105_p522218401851"></a>--cap-drop</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1222414019518"><a name="zh-cn_topic_0182207105_p1222414019518"></a><a name="zh-cn_topic_0182207105_p1222414019518"></a>删除Linux 权限功能</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row858858181018"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p359014818108"><a name="zh-cn_topic_0182207105_p359014818108"></a><a name="zh-cn_topic_0182207105_p359014818108"></a>--cgroup-parent</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p15905813106"><a name="zh-cn_topic_0182207105_p15905813106"></a><a name="zh-cn_topic_0182207105_p15905813106"></a>指定容器cgroup父路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row136971311725"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p023010400516"><a name="zh-cn_topic_0182207105_p023010400516"></a><a name="zh-cn_topic_0182207105_p023010400516"></a>--cpuset-cpus</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p32320401756"><a name="zh-cn_topic_0182207105_p32320401756"></a><a name="zh-cn_topic_0182207105_p32320401756"></a>允许执行的CPU（e.g. 0-3，0，1）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row5991571341"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p14237174014515"><a name="zh-cn_topic_0182207105_p14237174014515"></a><a name="zh-cn_topic_0182207105_p14237174014515"></a>--cpu-shares</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p42394406520"><a name="zh-cn_topic_0182207105_p42394406520"></a><a name="zh-cn_topic_0182207105_p42394406520"></a>CPU份额（相对权重）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row511418111746"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p124434019510"><a name="zh-cn_topic_0182207105_p124434019510"></a><a name="zh-cn_topic_0182207105_p124434019510"></a>--cpu-quota</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p324519401555"><a name="zh-cn_topic_0182207105_p324519401555"></a><a name="zh-cn_topic_0182207105_p324519401555"></a>限制CPU CFS（完全公平调度器）的配额</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1898442169"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p8194739375"><a name="zh-cn_topic_0182207105_p8194739375"></a><a name="zh-cn_topic_0182207105_p8194739375"></a>--device=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p19196339574"><a name="zh-cn_topic_0182207105_p19196339574"></a><a name="zh-cn_topic_0182207105_p19196339574"></a>为容器添加一个主机设备</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row960516596183"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p126061759201819"><a name="zh-cn_topic_0182207105_p126061759201819"></a><a name="zh-cn_topic_0182207105_p126061759201819"></a>--dns</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1560625917186"><a name="zh-cn_topic_0182207105_p1560625917186"></a><a name="zh-cn_topic_0182207105_p1560625917186"></a>添加DNS服务器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row035317281915"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1735311218199"><a name="zh-cn_topic_0182207105_p1735311218199"></a><a name="zh-cn_topic_0182207105_p1735311218199"></a>--dns-opt</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p935319217193"><a name="zh-cn_topic_0182207105_p935319217193"></a><a name="zh-cn_topic_0182207105_p935319217193"></a>添加DNS选项</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1345415571916"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p19455250193"><a name="zh-cn_topic_0182207105_p19455250193"></a><a name="zh-cn_topic_0182207105_p19455250193"></a>--dns-search</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p204552531916"><a name="zh-cn_topic_0182207105_p204552531916"></a><a name="zh-cn_topic_0182207105_p204552531916"></a>设定容器的搜索域</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row173714521568"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p72051939470"><a name="zh-cn_topic_0182207105_p72051939470"></a><a name="zh-cn_topic_0182207105_p72051939470"></a>-e, --env</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p15209739476"><a name="zh-cn_topic_0182207105_p15209739476"></a><a name="zh-cn_topic_0182207105_p15209739476"></a>设置环境变量</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1453110523575"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p8531185213573"><a name="zh-cn_topic_0182207105_p8531185213573"></a><a name="zh-cn_topic_0182207105_p8531185213573"></a>--env-file</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p20531052135713"><a name="zh-cn_topic_0182207105_p20531052135713"></a><a name="zh-cn_topic_0182207105_p20531052135713"></a>通过文件配置环境变量</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row16463212570"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1021516396713"><a name="zh-cn_topic_0182207105_p1021516396713"></a><a name="zh-cn_topic_0182207105_p1021516396713"></a>--entrypoint</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p421833918713"><a name="zh-cn_topic_0182207105_p421833918713"></a><a name="zh-cn_topic_0182207105_p421833918713"></a>启动容器时要运行的入口点</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row197464191473"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p152241239276"><a name="zh-cn_topic_0182207105_p152241239276"></a><a name="zh-cn_topic_0182207105_p152241239276"></a>--external-rootfs=PATH</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p152288395712"><a name="zh-cn_topic_0182207105_p152288395712"></a><a name="zh-cn_topic_0182207105_p152288395712"></a>指定一个不由iSulad管理的rootfs(可以为文件夹或块设备)给容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row9905848153714"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p371584910376"><a name="zh-cn_topic_0182207105_p371584910376"></a><a name="zh-cn_topic_0182207105_p371584910376"></a>--files-limit</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p19715749163711"><a name="zh-cn_topic_0182207105_p19715749163711"></a><a name="zh-cn_topic_0182207105_p19715749163711"></a>调整容器内能够打开的文件句柄数（-1表示不限制）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row6682753194610"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_zh-cn_topic_0124544921_zh-cn_topic_0043209392_p971311443316"><a name="zh-cn_topic_0182207105_zh-cn_topic_0124544921_zh-cn_topic_0043209392_p971311443316"></a><a name="zh-cn_topic_0182207105_zh-cn_topic_0124544921_zh-cn_topic_0043209392_p971311443316"></a>--group-add=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_zh-cn_topic_0124544921_zh-cn_topic_0043209392_p343520423515"><a name="zh-cn_topic_0182207105_zh-cn_topic_0124544921_zh-cn_topic_0043209392_p343520423515"></a><a name="zh-cn_topic_0182207105_zh-cn_topic_0124544921_zh-cn_topic_0043209392_p343520423515"></a>指定额外的用户组添加到容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row17428191317713"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p42336396714"><a name="zh-cn_topic_0182207105_p42336396714"></a><a name="zh-cn_topic_0182207105_p42336396714"></a>--help</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p823614398716"><a name="zh-cn_topic_0182207105_p823614398716"></a><a name="zh-cn_topic_0182207105_p823614398716"></a>打印帮助信息</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row614972012483"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p61501220104817"><a name="zh-cn_topic_0182207105_p61501220104817"></a><a name="zh-cn_topic_0182207105_p61501220104817"></a>--health-cmd</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p191500208483"><a name="zh-cn_topic_0182207105_p191500208483"></a><a name="zh-cn_topic_0182207105_p191500208483"></a>在容器内执行的命令</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1280173244812"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p2028013325485"><a name="zh-cn_topic_0182207105_p2028013325485"></a><a name="zh-cn_topic_0182207105_p2028013325485"></a>--health-exit-on-unhealthy</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1928033213487"><a name="zh-cn_topic_0182207105_p1928033213487"></a><a name="zh-cn_topic_0182207105_p1928033213487"></a>检测到容器非健康时是否杀死容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1039723584810"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1039711350489"><a name="zh-cn_topic_0182207105_p1039711350489"></a><a name="zh-cn_topic_0182207105_p1039711350489"></a>--health-interval</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p113971935134817"><a name="zh-cn_topic_0182207105_p113971935134817"></a><a name="zh-cn_topic_0182207105_p113971935134817"></a>相邻两次命令执行的间隔时间</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row104982394488"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1849953934818"><a name="zh-cn_topic_0182207105_p1849953934818"></a><a name="zh-cn_topic_0182207105_p1849953934818"></a>--health-retries</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p12499173910484"><a name="zh-cn_topic_0182207105_p12499173910484"></a><a name="zh-cn_topic_0182207105_p12499173910484"></a>健康检查失败最大的重试次数</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row11177446154813"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p11177114634819"><a name="zh-cn_topic_0182207105_p11177114634819"></a><a name="zh-cn_topic_0182207105_p11177114634819"></a>--health-start-period</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p9177146184818"><a name="zh-cn_topic_0182207105_p9177146184818"></a><a name="zh-cn_topic_0182207105_p9177146184818"></a>容器初始化时间</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1318252595020"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1118313259506"><a name="zh-cn_topic_0182207105_p1118313259506"></a><a name="zh-cn_topic_0182207105_p1118313259506"></a>--health-timeout</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1718342515503"><a name="zh-cn_topic_0182207105_p1718342515503"></a><a name="zh-cn_topic_0182207105_p1718342515503"></a>单次检查命令执行的时间上限</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1233115174718"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p142425395718"><a name="zh-cn_topic_0182207105_p142425395718"></a><a name="zh-cn_topic_0182207105_p142425395718"></a>--hook-spec</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p2247173913718"><a name="zh-cn_topic_0182207105_p2247173913718"></a><a name="zh-cn_topic_0182207105_p2247173913718"></a>钩子配置文件</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row841117457260"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p17569154712612"><a name="zh-cn_topic_0182207105_p17569154712612"></a><a name="zh-cn_topic_0182207105_p17569154712612"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p20572194752612"><a name="zh-cn_topic_0182207105_p20572194752612"></a><a name="zh-cn_topic_0182207105_p20572194752612"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row09098231714"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1125217390718"><a name="zh-cn_topic_0182207105_p1125217390718"></a><a name="zh-cn_topic_0182207105_p1125217390718"></a>-h, --hostname</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p11255113910714"><a name="zh-cn_topic_0182207105_p11255113910714"></a><a name="zh-cn_topic_0182207105_p11255113910714"></a>容器主机名称</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1857164385519"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p324317539553"><a name="zh-cn_topic_0182207105_p324317539553"></a><a name="zh-cn_topic_0182207105_p324317539553"></a>-i, --interactive</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p9243195320559"><a name="zh-cn_topic_0182207105_p9243195320559"></a><a name="zh-cn_topic_0182207105_p9243195320559"></a>即使没有连接到容器的标准输入，也要保持容器的标准输入打开</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row64315281478"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p326313393713"><a name="zh-cn_topic_0182207105_p326313393713"></a><a name="zh-cn_topic_0182207105_p326313393713"></a>--hugetlb-limit=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p182668394714"><a name="zh-cn_topic_0182207105_p182668394714"></a><a name="zh-cn_topic_0182207105_p182668394714"></a>大页文件限制，例如：--hugetlb-limit 2MB:32MB</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1292919294714"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p132831239572"><a name="zh-cn_topic_0182207105_p132831239572"></a><a name="zh-cn_topic_0182207105_p132831239572"></a>--log-opt=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p2028510390711"><a name="zh-cn_topic_0182207105_p2028510390711"></a><a name="zh-cn_topic_0182207105_p2028510390711"></a>日志驱动程序选项，默认禁用记录容器串口日志功能，可以通过"--log-opt disable-log=false"来开启。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row10298153113371"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p11298113113710"><a name="zh-cn_topic_0182207105_p11298113113710"></a><a name="zh-cn_topic_0182207105_p11298113113710"></a>-l，--label</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p15298143143711"><a name="zh-cn_topic_0182207105_p15298143143711"></a><a name="zh-cn_topic_0182207105_p15298143143711"></a>为容器设置标签</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1753552953820"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p75351029113820"><a name="zh-cn_topic_0182207105_p75351029113820"></a><a name="zh-cn_topic_0182207105_p75351029113820"></a>--lablel-file</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p8535122916381"><a name="zh-cn_topic_0182207105_p8535122916381"></a><a name="zh-cn_topic_0182207105_p8535122916381"></a>通过文件设置容器标签</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1676892518712"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p629323915710"><a name="zh-cn_topic_0182207105_p629323915710"></a><a name="zh-cn_topic_0182207105_p629323915710"></a>-m, --memory</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p122954399719"><a name="zh-cn_topic_0182207105_p122954399719"></a><a name="zh-cn_topic_0182207105_p122954399719"></a>内存限制</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row601514193211"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_zh-cn_topic_0138971318_p11811595428"><a name="zh-cn_topic_0182207105_zh-cn_topic_0138971318_p11811595428"></a><a name="zh-cn_topic_0182207105_zh-cn_topic_0138971318_p11811595428"></a>--memory-reservation</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_zh-cn_topic_0138971318_p21815598424"><a name="zh-cn_topic_0182207105_zh-cn_topic_0138971318_p21815598424"></a><a name="zh-cn_topic_0182207105_zh-cn_topic_0138971318_p21815598424"></a>设置容器内存限制，默认与--memory一致。可认为--memory是硬限制，--memory-reservation是软限制；当使用内存超过预设值时，会动态调整（系统回收内存时尝试将使用内存降低到预设值以下），但不确保一定不超过预设值。一般可以和--memory一起使用，数值小于--memory的预设值，最小设置为4MB。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1052344477"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1930383914714"><a name="zh-cn_topic_0182207105_p1930383914714"></a><a name="zh-cn_topic_0182207105_p1930383914714"></a>--memory-swap</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p203051539579"><a name="zh-cn_topic_0182207105_p203051539579"></a><a name="zh-cn_topic_0182207105_p203051539579"></a>正整数，内存 + 交换空间，-1 表示不限制</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row1728751718149"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p18287417161414"><a name="zh-cn_topic_0182207105_p18287417161414"></a><a name="zh-cn_topic_0182207105_p18287417161414"></a>--memory-swappiness</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p15287111731410"><a name="zh-cn_topic_0182207105_p15287111731410"></a><a name="zh-cn_topic_0182207105_p15287111731410"></a>正整数，swappiness参数值可设置范围在0到100之间。 此参数值越低，就会让Linux系统尽量少用swap分区，多用内存；参数值越高就是反过来，使内核更多的去使用swap空间，默认值为-1，表示使用系统默认值。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row154751863710"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p7312539679"><a name="zh-cn_topic_0182207105_p7312539679"></a><a name="zh-cn_topic_0182207105_p7312539679"></a>--mount</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p183152391174"><a name="zh-cn_topic_0182207105_p183152391174"></a><a name="zh-cn_topic_0182207105_p183152391174"></a>挂载主机目录到容器中</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row565519595210"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p12655457526"><a name="zh-cn_topic_0182207105_p12655457526"></a><a name="zh-cn_topic_0182207105_p12655457526"></a>--no-healthcheck</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p765517511527"><a name="zh-cn_topic_0182207105_p765517511527"></a><a name="zh-cn_topic_0182207105_p765517511527"></a>禁用健康检查配置</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row8679175615614"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p16321113910720"><a name="zh-cn_topic_0182207105_p16321113910720"></a><a name="zh-cn_topic_0182207105_p16321113910720"></a>--name=NAME</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p163231391675"><a name="zh-cn_topic_0182207105_p163231391675"></a><a name="zh-cn_topic_0182207105_p163231391675"></a>容器名</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row19100528719"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1033216391775"><a name="zh-cn_topic_0182207105_p1033216391775"></a><a name="zh-cn_topic_0182207105_p1033216391775"></a>--net=none</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1633611391076"><a name="zh-cn_topic_0182207105_p1633611391076"></a><a name="zh-cn_topic_0182207105_p1633611391076"></a>容器连接到网络</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row10108143810"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p17982489384"><a name="zh-cn_topic_0182207105_p17982489384"></a><a name="zh-cn_topic_0182207105_p17982489384"></a>--pids-limit</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p12982587385"><a name="zh-cn_topic_0182207105_p12982587385"></a><a name="zh-cn_topic_0182207105_p12982587385"></a>调整容器内能够执行的进程数（-1表示不限制）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row204644595611"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p8346153919718"><a name="zh-cn_topic_0182207105_p8346153919718"></a><a name="zh-cn_topic_0182207105_p8346153919718"></a>--privileged</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p10349123910710"><a name="zh-cn_topic_0182207105_p10349123910710"></a><a name="zh-cn_topic_0182207105_p10349123910710"></a>给予容器扩展的特权</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row4715417611"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p93596391276"><a name="zh-cn_topic_0182207105_p93596391276"></a><a name="zh-cn_topic_0182207105_p93596391276"></a>-R, --runtime</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1436203919713"><a name="zh-cn_topic_0182207105_p1436203919713"></a><a name="zh-cn_topic_0182207105_p1436203919713"></a>容器运行时，参数支持"lcr"，忽略大小写，因此"LCR"和"lcr"是等价的</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row9631144512610"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1837363910713"><a name="zh-cn_topic_0182207105_p1837363910713"></a><a name="zh-cn_topic_0182207105_p1837363910713"></a>--read-only</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p11378103915718"><a name="zh-cn_topic_0182207105_p11378103915718"></a><a name="zh-cn_topic_0182207105_p11378103915718"></a>设置容器的根文件系统为只读</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row111022509616"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1538418391715"><a name="zh-cn_topic_0182207105_p1538418391715"></a><a name="zh-cn_topic_0182207105_p1538418391715"></a>--restart</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p193871391976"><a name="zh-cn_topic_0182207105_p193871391976"></a><a name="zh-cn_topic_0182207105_p193871391976"></a>当容器退出时重启策略</p>
<p id="zh-cn_topic_0182207105_p1371141235411"><a name="zh-cn_topic_0182207105_p1371141235411"></a><a name="zh-cn_topic_0182207105_p1371141235411"></a>系统容器支持--restart on-reboot</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row16393140174"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p26411214161716"><a name="zh-cn_topic_0182207105_p26411214161716"></a><a name="zh-cn_topic_0182207105_p26411214161716"></a>--storage-opt</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p156411614201714"><a name="zh-cn_topic_0182207105_p156411614201714"></a><a name="zh-cn_topic_0182207105_p156411614201714"></a>配置容器的存储驱动选项</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row19571175416574"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p35093214585"><a name="zh-cn_topic_0182207105_p35093214585"></a><a name="zh-cn_topic_0182207105_p35093214585"></a>-t, --tty</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p750913265817"><a name="zh-cn_topic_0182207105_p750913265817"></a><a name="zh-cn_topic_0182207105_p750913265817"></a>分配伪终端</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row15496195712522"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p11497185745212"><a name="zh-cn_topic_0182207105_p11497185745212"></a><a name="zh-cn_topic_0182207105_p11497185745212"></a>--ulimit</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1349715755214"><a name="zh-cn_topic_0182207105_p1349715755214"></a><a name="zh-cn_topic_0182207105_p1349715755214"></a>为容器设置ulimit限制</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row26709251165"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p2408193911715"><a name="zh-cn_topic_0182207105_p2408193911715"></a><a name="zh-cn_topic_0182207105_p2408193911715"></a>-u, --user</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p2041110391273"><a name="zh-cn_topic_0182207105_p2041110391273"></a><a name="zh-cn_topic_0182207105_p2041110391273"></a>用户名或UID，格式[&lt;name|uid&gt;][:&lt;group|gid&gt;]</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207105_row969873217614"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p1443220391575"><a name="zh-cn_topic_0182207105_p1443220391575"></a><a name="zh-cn_topic_0182207105_p1443220391575"></a>-v, --volume=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207105_p343617396718"><a name="zh-cn_topic_0182207105_p343617396718"></a><a name="zh-cn_topic_0182207105_p343617396718"></a>挂载一个卷</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   使用--user或--group-add参数，在容器启动阶段校验user或group时，容器如果使用的是OCI镜像，是从镜像的真实rootfs的etc/passwd和etc/group文件中校验，如果使用的是rootfs文件夹或块设备作为容器的rootfs，则校验的是host中的etc/passwd和etc/group文件；查找时使用的rootfs会忽略-v 和--mount等挂载参数，意味着使用这些参数尝试覆盖etc/passwd和etc/group两个文件时，在查找阶段不生效，只在容器真正启动时生效。生成的配置保存在"iSulad根目录/engine/容器ID/start\_generate\_config.json"，文件格式如下：

    ```
    {
        "uid": 0,
        "gid": 8,
        "additionalGids": [
            1234,
            8
        ]
    }
    ```


### 示例

创建一个新容器

```
# isula create busybox
fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
# isula ps -a
STATUS PID IMAGE   COMMAND EXIT_CODE RESTART_COUNT STARTAT FINISHAT RUNTIME ID           NAMES                                                            inited -   busybox "sh"    0         0             -       -        lcr     fd7376591a9c fd7376591a9c4521...
```

## 启动容器

### 描述

isula start命令用于启动一个或多个容器。

### 用法

```
isula start [OPTIONS] CONTAINER [CONTAINER...]
```

### 参数

start命令支持参数参考下表。

**表 1**  start命令参数列表

<a name="zh-cn_topic_0182207106_table279824718555"></a>
<table><tbody><tr id="zh-cn_topic_0182207106_row224115355713"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0182207106_p447450105817"><a name="zh-cn_topic_0182207106_p447450105817"></a><a name="zh-cn_topic_0182207106_p447450105817"></a><strong id="zh-cn_topic_0182207106_b1347410105817"><a name="zh-cn_topic_0182207106_b1347410105817"></a><a name="zh-cn_topic_0182207106_b1347410105817"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0182207106_p24741801581"><a name="zh-cn_topic_0182207106_p24741801581"></a><a name="zh-cn_topic_0182207106_p24741801581"></a><strong id="zh-cn_topic_0182207106_b164747015586"><a name="zh-cn_topic_0182207106_b164747015586"></a><a name="zh-cn_topic_0182207106_b164747015586"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0182207106_p547411015820"><a name="zh-cn_topic_0182207106_p547411015820"></a><a name="zh-cn_topic_0182207106_p547411015820"></a><strong id="zh-cn_topic_0182207106_b1647430185815"><a name="zh-cn_topic_0182207106_b1647430185815"></a><a name="zh-cn_topic_0182207106_b1647430185815"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0182207106_row177619332245"><td class="cellrowborder" rowspan="2" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0182207106_p108381258112215"><a name="zh-cn_topic_0182207106_p108381258112215"></a><a name="zh-cn_topic_0182207106_p108381258112215"></a><strong id="zh-cn_topic_0182207106_b3709195112316"><a name="zh-cn_topic_0182207106_b3709195112316"></a><a name="zh-cn_topic_0182207106_b3709195112316"></a>start</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0182207106_p1977623312410"><a name="zh-cn_topic_0182207106_p1977623312410"></a><a name="zh-cn_topic_0182207106_p1977623312410"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0182207106_p577673362410"><a name="zh-cn_topic_0182207106_p577673362410"></a><a name="zh-cn_topic_0182207106_p577673362410"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207106_row107521335112317"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207106_p207603617248"><a name="zh-cn_topic_0182207106_p207603617248"></a><a name="zh-cn_topic_0182207106_p207603617248"></a>-R, --runtime</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207106_p176218616242"><a name="zh-cn_topic_0182207106_p176218616242"></a><a name="zh-cn_topic_0182207106_p176218616242"></a>容器运行时，参数支持"lcr"，忽略大小写，因此"LCR"和"lcr"是等价的</p>
</td>
</tr>
</tbody>
</table>

### 示例

启动一个新容器

```
# isula start fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
```

## 运行容器

### 描述

isula run命令命令用于创建一个新的容器。会使用指定的容器镜像创建容器读写层，并且为运行指定的命令做好准备。创建完成后，使用指定的命令启动该容器。run命令相当于create然后start容器。

### 用法

```
isula run [OPTIONS] ROOTFS|IMAGE [COMMAND] [ARG...]
```

### 参数

run命令支持参数参考下表。

**表 1**  run命令参数列表

<a name="zh-cn_topic_0182207107_table62441570237"></a>
<table><tbody><tr id="zh-cn_topic_0182207107_row139736211246"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0182207107_p148610405244"><a name="zh-cn_topic_0182207107_p148610405244"></a><a name="zh-cn_topic_0182207107_p148610405244"></a><strong id="zh-cn_topic_0182207107_b5486144014247"><a name="zh-cn_topic_0182207107_b5486144014247"></a><a name="zh-cn_topic_0182207107_b5486144014247"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0182207107_p048644010248"><a name="zh-cn_topic_0182207107_p048644010248"></a><a name="zh-cn_topic_0182207107_p048644010248"></a><strong id="zh-cn_topic_0182207107_b748616402241"><a name="zh-cn_topic_0182207107_b748616402241"></a><a name="zh-cn_topic_0182207107_b748616402241"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0182207107_p648624042417"><a name="zh-cn_topic_0182207107_p648624042417"></a><a name="zh-cn_topic_0182207107_p648624042417"></a><strong id="zh-cn_topic_0182207107_b748619403240"><a name="zh-cn_topic_0182207107_b748619403240"></a><a name="zh-cn_topic_0182207107_b748619403240"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row134199513352"><td class="cellrowborder" rowspan="50" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0182207107_p1668419095711"><a name="zh-cn_topic_0182207107_p1668419095711"></a><a name="zh-cn_topic_0182207107_p1668419095711"></a><strong id="zh-cn_topic_0182207107_b479810255419"><a name="zh-cn_topic_0182207107_b479810255419"></a><a name="zh-cn_topic_0182207107_b479810255419"></a>run</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0182207107_p8129151463514"><a name="zh-cn_topic_0182207107_p8129151463514"></a><a name="zh-cn_topic_0182207107_p8129151463514"></a>--annotation</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0182207107_p5129191418354"><a name="zh-cn_topic_0182207107_p5129191418354"></a><a name="zh-cn_topic_0182207107_p5129191418354"></a>设置容器的annotations。例如支持native.umask选项：</p>
<pre class="screen" id="zh-cn_topic_0182207107_screen1112917145352"><a name="zh-cn_topic_0182207107_screen1112917145352"></a><a name="zh-cn_topic_0182207107_screen1112917145352"></a>--annotation native.umask=normal # 启动的容器umask值为0022
--annotation native.umask=secure # 启动的容器umask值为0027</pre>
<p id="zh-cn_topic_0182207107_p10129314183518"><a name="zh-cn_topic_0182207107_p10129314183518"></a><a name="zh-cn_topic_0182207107_p10129314183518"></a>注意如果没有配置该参数，则使用isulad中的umask配置。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row861311411819"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1716101018113"><a name="zh-cn_topic_0182207107_p1716101018113"></a><a name="zh-cn_topic_0182207107_p1716101018113"></a>--cap-add</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p17421752153311"><a name="zh-cn_topic_0182207107_p17421752153311"></a><a name="zh-cn_topic_0182207107_p17421752153311"></a>添加Linux功能</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row17870171515015"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p38709151502"><a name="zh-cn_topic_0182207107_p38709151502"></a><a name="zh-cn_topic_0182207107_p38709151502"></a>--cap-drop</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p96851021937"><a name="zh-cn_topic_0182207107_p96851021937"></a><a name="zh-cn_topic_0182207107_p96851021937"></a>删除Linux功能</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row429165541015"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p12412155631016"><a name="zh-cn_topic_0182207107_p12412155631016"></a><a name="zh-cn_topic_0182207107_p12412155631016"></a>--cgroup-parent</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p2412156151014"><a name="zh-cn_topic_0182207107_p2412156151014"></a><a name="zh-cn_topic_0182207107_p2412156151014"></a>指定容器cgroup父路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row16631114131614"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p4663121416168"><a name="zh-cn_topic_0182207107_p4663121416168"></a><a name="zh-cn_topic_0182207107_p4663121416168"></a>--cpuset-cpus</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p16852211836"><a name="zh-cn_topic_0182207107_p16852211836"></a><a name="zh-cn_topic_0182207107_p16852211836"></a>允许执行的CPU（e.g. 0-3，0，1）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row17941113011010"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p794114304016"><a name="zh-cn_topic_0182207107_p794114304016"></a><a name="zh-cn_topic_0182207107_p794114304016"></a>--cpu-shares</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p468516214314"><a name="zh-cn_topic_0182207107_p468516214314"></a><a name="zh-cn_topic_0182207107_p468516214314"></a>CPU份额（相对权重）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row694113301204"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p0941130804"><a name="zh-cn_topic_0182207107_p0941130804"></a><a name="zh-cn_topic_0182207107_p0941130804"></a>--cpu-quota</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p8685621334"><a name="zh-cn_topic_0182207107_p8685621334"></a><a name="zh-cn_topic_0182207107_p8685621334"></a>限制CPU CFS（完全公平调度器）的配额</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row176131541687"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p116131041289"><a name="zh-cn_topic_0182207107_p116131041289"></a><a name="zh-cn_topic_0182207107_p116131041289"></a>-d, --detach</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p26851321335"><a name="zh-cn_topic_0182207107_p26851321335"></a><a name="zh-cn_topic_0182207107_p26851321335"></a>后台运行容器并打印容器ID</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1061354115812"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p206133411080"><a name="zh-cn_topic_0182207107_p206133411080"></a><a name="zh-cn_topic_0182207107_p206133411080"></a>--device=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p5861121218270"><a name="zh-cn_topic_0182207107_p5861121218270"></a><a name="zh-cn_topic_0182207107_p5861121218270"></a>为容器添加一个主机设备</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row623119489243"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p15231148132418"><a name="zh-cn_topic_0182207107_p15231148132418"></a><a name="zh-cn_topic_0182207107_p15231148132418"></a>--dns</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p123110486245"><a name="zh-cn_topic_0182207107_p123110486245"></a><a name="zh-cn_topic_0182207107_p123110486245"></a>添加DNS服务器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row7357105142411"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p15357195116248"><a name="zh-cn_topic_0182207107_p15357195116248"></a><a name="zh-cn_topic_0182207107_p15357195116248"></a>--dns-opt</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p735775132419"><a name="zh-cn_topic_0182207107_p735775132419"></a><a name="zh-cn_topic_0182207107_p735775132419"></a>添加DNS选项</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row15443154132410"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1544335492417"><a name="zh-cn_topic_0182207107_p1544335492417"></a><a name="zh-cn_topic_0182207107_p1544335492417"></a>--dns-search</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1443165472412"><a name="zh-cn_topic_0182207107_p1443165472412"></a><a name="zh-cn_topic_0182207107_p1443165472412"></a>设定容器的搜索域</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row156137414817"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1261417415811"><a name="zh-cn_topic_0182207107_p1261417415811"></a><a name="zh-cn_topic_0182207107_p1261417415811"></a>-e, --env</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p176852211639"><a name="zh-cn_topic_0182207107_p176852211639"></a><a name="zh-cn_topic_0182207107_p176852211639"></a>设置环境变量</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row161909508118"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p6191135020112"><a name="zh-cn_topic_0182207107_p6191135020112"></a><a name="zh-cn_topic_0182207107_p6191135020112"></a>--env-file</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p101911950112"><a name="zh-cn_topic_0182207107_p101911950112"></a><a name="zh-cn_topic_0182207107_p101911950112"></a>通过文件配置环境变量</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1761474115819"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p13614174115812"><a name="zh-cn_topic_0182207107_p13614174115812"></a><a name="zh-cn_topic_0182207107_p13614174115812"></a>--entrypoint</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p136851321239"><a name="zh-cn_topic_0182207107_p136851321239"></a><a name="zh-cn_topic_0182207107_p136851321239"></a>启动容器时要运行的入口点</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row84421230185918"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p24421330125913"><a name="zh-cn_topic_0182207107_p24421330125913"></a><a name="zh-cn_topic_0182207107_p24421330125913"></a>--external-rootfs=PATH</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p176851721939"><a name="zh-cn_topic_0182207107_p176851721939"></a><a name="zh-cn_topic_0182207107_p176851721939"></a>指定一个不由iSulad管理的rootfs(可以为文件夹或块设备)给容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1085023833511"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p198519380358"><a name="zh-cn_topic_0182207107_p198519380358"></a><a name="zh-cn_topic_0182207107_p198519380358"></a>--files-limit</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p085115384358"><a name="zh-cn_topic_0182207107_p085115384358"></a><a name="zh-cn_topic_0182207107_p085115384358"></a>调整容器内能够打开的文件句柄数（-1表示不限制）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1295325111472"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p20395344714"><a name="zh-cn_topic_0182207107_p20395344714"></a><a name="zh-cn_topic_0182207107_p20395344714"></a>--group-add=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p2365313470"><a name="zh-cn_topic_0182207107_p2365313470"></a><a name="zh-cn_topic_0182207107_p2365313470"></a>指定额外的用户组添加到容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row49051865195"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p16905146161917"><a name="zh-cn_topic_0182207107_p16905146161917"></a><a name="zh-cn_topic_0182207107_p16905146161917"></a>--help</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1690512618195"><a name="zh-cn_topic_0182207107_p1690512618195"></a><a name="zh-cn_topic_0182207107_p1690512618195"></a>打印帮助信息</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1863011175146"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1063041731417"><a name="zh-cn_topic_0182207107_p1063041731417"></a><a name="zh-cn_topic_0182207107_p1063041731417"></a>--health-cmd</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p18630517191411"><a name="zh-cn_topic_0182207107_p18630517191411"></a><a name="zh-cn_topic_0182207107_p18630517191411"></a>在容器内执行的命令</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row753412041411"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p11535132013142"><a name="zh-cn_topic_0182207107_p11535132013142"></a><a name="zh-cn_topic_0182207107_p11535132013142"></a>--health-exit-on-unhealthy</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p0535152041412"><a name="zh-cn_topic_0182207107_p0535152041412"></a><a name="zh-cn_topic_0182207107_p0535152041412"></a>检测到容器非健康时是否杀死容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row17173192319142"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p91733234142"><a name="zh-cn_topic_0182207107_p91733234142"></a><a name="zh-cn_topic_0182207107_p91733234142"></a>--health-interval</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p217320238146"><a name="zh-cn_topic_0182207107_p217320238146"></a><a name="zh-cn_topic_0182207107_p217320238146"></a>相邻两次命令执行的间隔时间</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row65618261149"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p55612611410"><a name="zh-cn_topic_0182207107_p55612611410"></a><a name="zh-cn_topic_0182207107_p55612611410"></a>--health-retries</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p205619268141"><a name="zh-cn_topic_0182207107_p205619268141"></a><a name="zh-cn_topic_0182207107_p205619268141"></a>健康检查失败最大的重试次数</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row6356102941410"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1835612991419"><a name="zh-cn_topic_0182207107_p1835612991419"></a><a name="zh-cn_topic_0182207107_p1835612991419"></a>--health-start-period</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p93568290147"><a name="zh-cn_topic_0182207107_p93568290147"></a><a name="zh-cn_topic_0182207107_p93568290147"></a>容器初始化时间</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1029384718146"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p16294154716147"><a name="zh-cn_topic_0182207107_p16294154716147"></a><a name="zh-cn_topic_0182207107_p16294154716147"></a>--health-timeout</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p142942047201411"><a name="zh-cn_topic_0182207107_p142942047201411"></a><a name="zh-cn_topic_0182207107_p142942047201411"></a>单次检查命令执行的时间上限</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row417113495919"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p15172183445920"><a name="zh-cn_topic_0182207107_p15172183445920"></a><a name="zh-cn_topic_0182207107_p15172183445920"></a>--hook-spec</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p8685112118314"><a name="zh-cn_topic_0182207107_p8685112118314"></a><a name="zh-cn_topic_0182207107_p8685112118314"></a>钩子配置文件</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1498202319272"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p9571162842711"><a name="zh-cn_topic_0182207107_p9571162842711"></a><a name="zh-cn_topic_0182207107_p9571162842711"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1157482818273"><a name="zh-cn_topic_0182207107_p1157482818273"></a><a name="zh-cn_topic_0182207107_p1157482818273"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row6362153610268"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p13621736192618"><a name="zh-cn_topic_0182207107_p13621736192618"></a><a name="zh-cn_topic_0182207107_p13621736192618"></a>-h, --hostname</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p103621036122610"><a name="zh-cn_topic_0182207107_p103621036122610"></a><a name="zh-cn_topic_0182207107_p103621036122610"></a>容器主机名称</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row144214385598"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1144213389599"><a name="zh-cn_topic_0182207107_p1144213389599"></a><a name="zh-cn_topic_0182207107_p1144213389599"></a>--hugetlb-limit=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p268516211335"><a name="zh-cn_topic_0182207107_p268516211335"></a><a name="zh-cn_topic_0182207107_p268516211335"></a>大页文件限制，例如：--hugetlb-limit 2MB:32MB</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row205911371908"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1059163713014"><a name="zh-cn_topic_0182207107_p1059163713014"></a><a name="zh-cn_topic_0182207107_p1059163713014"></a>-i, --interactive</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p158943505"><a name="zh-cn_topic_0182207107_p158943505"></a><a name="zh-cn_topic_0182207107_p158943505"></a>即使没有连接到容器的标准输入，也要保持容器的标准输入打开</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row659103717013"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p8599371505"><a name="zh-cn_topic_0182207107_p8599371505"></a><a name="zh-cn_topic_0182207107_p8599371505"></a>--log-opt=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p668514211339"><a name="zh-cn_topic_0182207107_p668514211339"></a><a name="zh-cn_topic_0182207107_p668514211339"></a>日志驱动程序选项，默认禁用记录容器串口日志功能，可以通过"--log-opt disable-log=false"来开启。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row75913717012"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p175918371019"><a name="zh-cn_topic_0182207107_p175918371019"></a><a name="zh-cn_topic_0182207107_p175918371019"></a>-m, --memory</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p156851211039"><a name="zh-cn_topic_0182207107_p156851211039"></a><a name="zh-cn_topic_0182207107_p156851211039"></a>内存限制</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row10796185703219"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p3692125919328"><a name="zh-cn_topic_0182207107_p3692125919328"></a><a name="zh-cn_topic_0182207107_p3692125919328"></a>--memory-reservation</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p12693185913322"><a name="zh-cn_topic_0182207107_p12693185913322"></a><a name="zh-cn_topic_0182207107_p12693185913322"></a>设置容器内存限制，默认与--memory一致。可认为--memory是硬限制，--memory-reservation是软限制；当使用内存超过预设值时，会动态调整（系统回收内存时尝试将使用内存降低到预设值以下），但不确保一定不超过预设值。一般可以和--memory一起使用，数值小于--memory的预设值，最小设置为4MB。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row20593371607"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p12592371704"><a name="zh-cn_topic_0182207107_p12592371704"></a><a name="zh-cn_topic_0182207107_p12592371704"></a>--memory-swap</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p15685521736"><a name="zh-cn_topic_0182207107_p15685521736"></a><a name="zh-cn_topic_0182207107_p15685521736"></a>正整数，内存 + 交换空间，-1 表示不限制</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row18121147112914"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p18287417161414"><a name="zh-cn_topic_0182207107_p18287417161414"></a><a name="zh-cn_topic_0182207107_p18287417161414"></a>--memory-swappiness</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p101221378297"><a name="zh-cn_topic_0182207107_p101221378297"></a><a name="zh-cn_topic_0182207107_p101221378297"></a>正整数，swappiness参数值可设置范围在0到100之间。 此参数值越低，就会让Linux系统尽量少用swap分区，多用内存；参数值越高就是反过来，使内核更多的去使用swap空间，默认值为-1，表示使用系统默认值。</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row53314518493"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p134145154916"><a name="zh-cn_topic_0182207107_p134145154916"></a><a name="zh-cn_topic_0182207107_p134145154916"></a>--mount</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p968518211831"><a name="zh-cn_topic_0182207107_p968518211831"></a><a name="zh-cn_topic_0182207107_p968518211831"></a>挂载主机目录到容器中</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row206012104181"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p196011710151815"><a name="zh-cn_topic_0182207107_p196011710151815"></a><a name="zh-cn_topic_0182207107_p196011710151815"></a>--no-healthcheck</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p146011610121814"><a name="zh-cn_topic_0182207107_p146011610121814"></a><a name="zh-cn_topic_0182207107_p146011610121814"></a>禁用健康检查配置</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row17591371014"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p19601237408"><a name="zh-cn_topic_0182207107_p19601237408"></a><a name="zh-cn_topic_0182207107_p19601237408"></a>--name=NAME</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p206851721434"><a name="zh-cn_topic_0182207107_p206851721434"></a><a name="zh-cn_topic_0182207107_p206851721434"></a>容器名</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row56017376010"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p17601537306"><a name="zh-cn_topic_0182207107_p17601537306"></a><a name="zh-cn_topic_0182207107_p17601537306"></a>--net=none</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p86855212031"><a name="zh-cn_topic_0182207107_p86855212031"></a><a name="zh-cn_topic_0182207107_p86855212031"></a>容器连接到网络</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1442163033611"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p14422173013363"><a name="zh-cn_topic_0182207107_p14422173013363"></a><a name="zh-cn_topic_0182207107_p14422173013363"></a>--pids-limit</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p8869114683618"><a name="zh-cn_topic_0182207107_p8869114683618"></a><a name="zh-cn_topic_0182207107_p8869114683618"></a>调整容器内能够执行的进程数（-1表示不限制）</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row11605371201"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p196012371304"><a name="zh-cn_topic_0182207107_p196012371304"></a><a name="zh-cn_topic_0182207107_p196012371304"></a>--privileged</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p968516212319"><a name="zh-cn_topic_0182207107_p968516212319"></a><a name="zh-cn_topic_0182207107_p968516212319"></a>给予容器扩展的特权</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row10649172419178"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1464912421718"><a name="zh-cn_topic_0182207107_p1464912421718"></a><a name="zh-cn_topic_0182207107_p1464912421718"></a>-R, --runtime</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p186853211837"><a name="zh-cn_topic_0182207107_p186853211837"></a><a name="zh-cn_topic_0182207107_p186853211837"></a>容器运行时，参数支持"lcr"，忽略大小写，因此"LCR"和"lcr"是等价的</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row151954516154"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p319705161516"><a name="zh-cn_topic_0182207107_p319705161516"></a><a name="zh-cn_topic_0182207107_p319705161516"></a>--read-only</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p819713551519"><a name="zh-cn_topic_0182207107_p819713551519"></a><a name="zh-cn_topic_0182207107_p819713551519"></a>设置容器的根文件系统为只读</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row3601237402"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p36013375013"><a name="zh-cn_topic_0182207107_p36013375013"></a><a name="zh-cn_topic_0182207107_p36013375013"></a>--restart</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p46863217311"><a name="zh-cn_topic_0182207107_p46863217311"></a><a name="zh-cn_topic_0182207107_p46863217311"></a>当容器退出时重启策略</p>
<p id="zh-cn_topic_0182207107_p51198252521"><a name="zh-cn_topic_0182207107_p51198252521"></a><a name="zh-cn_topic_0182207107_p51198252521"></a>系统容器支持--restart on-reboot</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row83001819192212"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1301131911225"><a name="zh-cn_topic_0182207107_p1301131911225"></a><a name="zh-cn_topic_0182207107_p1301131911225"></a>--rm</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p2301819192212"><a name="zh-cn_topic_0182207107_p2301819192212"></a><a name="zh-cn_topic_0182207107_p2301819192212"></a>当容器退出时自动清理容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1314105618175"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1785335691711"><a name="zh-cn_topic_0182207107_p1785335691711"></a><a name="zh-cn_topic_0182207107_p1785335691711"></a>--storage-opt</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1885310565170"><a name="zh-cn_topic_0182207107_p1885310565170"></a><a name="zh-cn_topic_0182207107_p1885310565170"></a>配置容器的存储驱动选项</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row1160183710015"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p9601837302"><a name="zh-cn_topic_0182207107_p9601837302"></a><a name="zh-cn_topic_0182207107_p9601837302"></a>-t, --tty</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p176861211319"><a name="zh-cn_topic_0182207107_p176861211319"></a><a name="zh-cn_topic_0182207107_p176861211319"></a>分配伪终端</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row13353886542"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p193531487548"><a name="zh-cn_topic_0182207107_p193531487548"></a><a name="zh-cn_topic_0182207107_p193531487548"></a>--ulimit</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1944203011543"><a name="zh-cn_topic_0182207107_p1944203011543"></a><a name="zh-cn_topic_0182207107_p1944203011543"></a>为容器设置ulimit限制</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row192184195910"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1310416598"><a name="zh-cn_topic_0182207107_p1310416598"></a><a name="zh-cn_topic_0182207107_p1310416598"></a>-u, --user</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1568613211317"><a name="zh-cn_topic_0182207107_p1568613211317"></a><a name="zh-cn_topic_0182207107_p1568613211317"></a>用户名或UID，格式[&lt;name|uid&gt;][:&lt;group|gid&gt;]</p>
</td>
</tr>
<tr id="zh-cn_topic_0182207107_row287661103"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p8877613012"><a name="zh-cn_topic_0182207107_p8877613012"></a><a name="zh-cn_topic_0182207107_p8877613012"></a>-v, --volume=[]</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0182207107_p1717301115357"><a name="zh-cn_topic_0182207107_p1717301115357"></a><a name="zh-cn_topic_0182207107_p1717301115357"></a>挂载一个卷</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   容器父进程进程退出时，则对应的容器也自动退出。
-   创建普通容器时父进程不能为init，因为普通容器的权限不够，导致容器可以创建成功，但是attach进去的时候会卡住。
-   运行容器时，不指定--net，默认hostname为**localhost**。
-   使用--files-limit参数传入一个很小的值，如1时，启动容器时，iSulad创建cgroup子组后先设置files.limit值，再将容器进程的PID写入该子组的cgroup.procs文件，此时容器进程已经打开超过1个句柄，因而写入报错导致启动失败启动容器会失败。
-   --mount参数和--volume参数同时存在时，如果目的路径有冲突，则--mount会在--volume之后挂载\(即将--volume中的挂载点覆盖掉\)。

    备注：轻量级容器的参数中type支持bind或squashfs，当type=squashfs时，src是镜像的路径；原生docker的参数type支持bind、volume、tmpfs。

-   restart重启策略不支持unless-stopped。
-   以下三种情况与docker 返回值不一致，docker返回127,轻量级容器返回125

    --device参数指定主机设备为不存在的设备

    --hook-spec参数指定不存在的hook json文件

    --entrypoint 参数指定不存在的入口参数

-   使用--volume参数时，由于容器启动时会对/dev/ptmx设备进行删除重建，因此请勿将/dev目录挂载至容器/dev目录，应使用--device对/dev下的设备在容器中进行挂载
-   禁止使用echo的方式向run命令的stdin输入数据，会导致客户端卡死。应该直接将echo的值作为命令行参数传给容器

    ```
    # echo ls | isula run -i busybox /bin/sh
    
    
    ^C
    #
    ```

    上述命令出现客户端卡死现象，这是由于上述命令相当于往stdin输入ls，随后EOF被读取，客户端不再发送数据，等待服务端退出，但是服务端无法区分客户端是否需要继续发送数据，因而服务端卡在read数据上，最终导致双方均卡死。

    正确的执行方式为：

    ```
    # isula run -i busybox ls
    bin
    dev
    etc
    home
    proc
    root
    sys
    tmp
    usr
    var
    #
    ```

-   使用host的根目录（/）作为容器的文件系统，那么在挂载路径时，如果有如下情况

    **表 2**  挂载情况

    <a name="zh-cn_topic_0182207107_table1075313351843"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0182207107_row1875314355413"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="zh-cn_topic_0182207107_p075318354418"><a name="zh-cn_topic_0182207107_p075318354418"></a><a name="zh-cn_topic_0182207107_p075318354418"></a>Host 路径（source）</p>
    </th>
    <th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="zh-cn_topic_0182207107_p1975316357419"><a name="zh-cn_topic_0182207107_p1975316357419"></a><a name="zh-cn_topic_0182207107_p1975316357419"></a>容器路径（<span>dest</span>）</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="zh-cn_topic_0182207107_row11753435245"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0182207107_p1775317351414"><a name="zh-cn_topic_0182207107_p1775317351414"></a><a name="zh-cn_topic_0182207107_p1775317351414"></a>/home/test1</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0182207107_p17532352412"><a name="zh-cn_topic_0182207107_p17532352412"></a><a name="zh-cn_topic_0182207107_p17532352412"></a>/mnt/</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0182207107_row47531735341"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="zh-cn_topic_0182207107_p15753235749"><a name="zh-cn_topic_0182207107_p15753235749"></a><a name="zh-cn_topic_0182207107_p15753235749"></a>/home/test2</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="zh-cn_topic_0182207107_p675383516412"><a name="zh-cn_topic_0182207107_p675383516412"></a><a name="zh-cn_topic_0182207107_p675383516412"></a>/mnt/abc</p>
    </td>
    </tr>
    </tbody>
    </table>

    >![](./public_sys-resources/icon-notice.gif) **须知：**   
    >第一种情况，先挂载/home/test1，然后挂载/home/test2，这种情况会导致/home/test1的内容覆盖掉原来/mnt下面的内容，这样可能导致/mnt下面不存在abc目录，这样会导致挂载/home/test2到/mnt/abc失败。  
    >第二种情况，先挂载/home/test2，然后挂载/home/test1。这种情况，第二次的挂载会把/mnt的内容替换为/home/test1的内容，这样第一次挂载的/home/test2到/mnt/abc的内容就看不到了。  
    >因此，不支持第一种使用方式；第二种使用用户需要了解这种数据无法访问的风险  

    >![](./public_sys-resources/icon-notice.gif) **须知：**   
    >-   高并发场景（并发启动200容器）下，glibc的内存管理机制会导致内存空洞以及虚拟内存较大（例如10GB）的问题。该问题是高并发场景下glibc内存管理机制的限制，而不是内存泄露，不会导致内存消耗无限增大。可以通过设置MALLOC\_ARENA\_MAX环境变量来减少虚拟内存的问题，而且可以增大减少物理内存的概率。但是这个环境变量会导致iSulad的并发性能下降，需要用户根据实际情况做配置。  
    >    ```  
    >    参考实践情况，平衡性能和内存，可以设置MALLOC_ARENA_MAX为4。（在arm64服务器上面对iSulad的性能影响在10%以内）  
    >    配置方法：  
    >    1. 手动启动iSulad的场景，可以直接export MALLOC_ARENA_MAX=4，然后再启动iSulad即可。  
    >    2. systemd管理iSulad的场景，可以修改/etc/sysconfig/iSulad，增加一条MALLOC_ARENA_MAX=4即可。  
    >    ```  


### 示例

运行一个新容器

```
# isula run -itd busybox
9c2c13b6c35f132f49fb7ffad24f9e673a07b7fe9918f97c0591f0d7014c713b
```

## 停止容器

### 描述

isula stop命令用于停止一个或多个运行中的容器。首先向容器中的首进程会发送**SIGTERM**信号，在指定时间（默认为10s）内容器未停止时，会发送**SIGKILL**。

### 用法

```
isula stop [OPTIONS] CONTAINER [CONTAINER...]
```

### 参数

stop命令支持参数参考下表。

**表 1**  stop命令参数列表

<a name="zh-cn_topic_0183292664_table177040323515"></a>
<table><tbody><tr id="zh-cn_topic_0183292664_row8712538252"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292664_p588494216519"><a name="zh-cn_topic_0183292664_p588494216519"></a><a name="zh-cn_topic_0183292664_p588494216519"></a><strong id="zh-cn_topic_0183292664_b1688413421253"><a name="zh-cn_topic_0183292664_b1688413421253"></a><a name="zh-cn_topic_0183292664_b1688413421253"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292664_p188847428520"><a name="zh-cn_topic_0183292664_p188847428520"></a><a name="zh-cn_topic_0183292664_p188847428520"></a><strong id="zh-cn_topic_0183292664_b1188414428517"><a name="zh-cn_topic_0183292664_b1188414428517"></a><a name="zh-cn_topic_0183292664_b1188414428517"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292664_p178848422515"><a name="zh-cn_topic_0183292664_p178848422515"></a><a name="zh-cn_topic_0183292664_p178848422515"></a><strong id="zh-cn_topic_0183292664_b1288417421351"><a name="zh-cn_topic_0183292664_b1288417421351"></a><a name="zh-cn_topic_0183292664_b1288417421351"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292664_row1674140193219"><td class="cellrowborder" rowspan="3" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292664_p0513915955"><a name="zh-cn_topic_0183292664_p0513915955"></a><a name="zh-cn_topic_0183292664_p0513915955"></a><strong id="zh-cn_topic_0183292664_b985082143420"><a name="zh-cn_topic_0183292664_b985082143420"></a><a name="zh-cn_topic_0183292664_b985082143420"></a>stop</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292664_p93955542325"><a name="zh-cn_topic_0183292664_p93955542325"></a><a name="zh-cn_topic_0183292664_p93955542325"></a>-f, --force</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292664_p177516011323"><a name="zh-cn_topic_0183292664_p177516011323"></a><a name="zh-cn_topic_0183292664_p177516011323"></a>强制停止正在运行的容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292664_row19123163783212"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292664_p6279743153214"><a name="zh-cn_topic_0183292664_p6279743153214"></a><a name="zh-cn_topic_0183292664_p6279743153214"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292664_p16284174363216"><a name="zh-cn_topic_0183292664_p16284174363216"></a><a name="zh-cn_topic_0183292664_p16284174363216"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292664_row15138151255"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292664_p3513121512514"><a name="zh-cn_topic_0183292664_p3513121512514"></a><a name="zh-cn_topic_0183292664_p3513121512514"></a>-t, --time</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292664_p176864215314"><a name="zh-cn_topic_0183292664_p176864215314"></a><a name="zh-cn_topic_0183292664_p176864215314"></a>先优雅停止，超过这个时间，则强行终止</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   指定t参数且t<0时，请确保自己容器的应用会处理stop信号。

    Stop的原理：Stop会首先给容器发送Stop 信号（SIGTERM），然后等待一定的时间（这个时间就是用户输入的 t），过了指定时间如果容器还仍处于运行状态，那么就发送kill信号（SIGKILL）使容器强制退出。


-   输入参数t的含义：

    t<0  : 表示一直等待，不管多久都等待程序优雅退出，既然用户这么输入了，表示对自己的应用比较放心，认为自己的程序有 合理的stop信号的处理机制。

    t=0 ： 表示不等，立即发送kill -9 到容器。

    t\>0 ： 表示等一定的时间，如果容器还未退出，就发送kill -9 到容器。

    所以如果用户使用t<0 （比如t=-1），请确保自己容器的应用会正确处理SIGTERM. 如果容器忽略了该信号，会导致isula stop一直卡住。


### 示例

停止一个容器

```
# isula stop fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
```

## 强制停止容器

### 描述

isula kill命令用于强制停止一个或多个运行中的容器。

### 用法

```
isula kill [OPTIONS] CONTAINER [CONTAINER...]
```

### 参数

kill命令支持参数参考下表。

**表 1**  kill命令参数列表

<a name="zh-cn_topic_0183292665_table169751130165112"></a>
<table><tbody><tr id="zh-cn_topic_0183292665_row319819347519"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292665_p29829438516"><a name="zh-cn_topic_0183292665_p29829438516"></a><a name="zh-cn_topic_0183292665_p29829438516"></a><strong id="zh-cn_topic_0183292665_b898274385115"><a name="zh-cn_topic_0183292665_b898274385115"></a><a name="zh-cn_topic_0183292665_b898274385115"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292665_p209821543135113"><a name="zh-cn_topic_0183292665_p209821543135113"></a><a name="zh-cn_topic_0183292665_p209821543135113"></a><strong id="zh-cn_topic_0183292665_b098274365110"><a name="zh-cn_topic_0183292665_b098274365110"></a><a name="zh-cn_topic_0183292665_b098274365110"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292665_p79821843145113"><a name="zh-cn_topic_0183292665_p79821843145113"></a><a name="zh-cn_topic_0183292665_p79821843145113"></a><strong id="zh-cn_topic_0183292665_b1598244395110"><a name="zh-cn_topic_0183292665_b1598244395110"></a><a name="zh-cn_topic_0183292665_b1598244395110"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292665_row58305372820"><td class="cellrowborder" rowspan="2" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292665_p118191410451"><a name="zh-cn_topic_0183292665_p118191410451"></a><a name="zh-cn_topic_0183292665_p118191410451"></a><strong id="zh-cn_topic_0183292665_b173181853113112"><a name="zh-cn_topic_0183292665_b173181853113112"></a><a name="zh-cn_topic_0183292665_b173181853113112"></a>kill</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292665_p788705815285"><a name="zh-cn_topic_0183292665_p788705815285"></a><a name="zh-cn_topic_0183292665_p788705815285"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292665_p98932586284"><a name="zh-cn_topic_0183292665_p98932586284"></a><a name="zh-cn_topic_0183292665_p98932586284"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292665_row1581911017514"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292665_p118190101656"><a name="zh-cn_topic_0183292665_p118190101656"></a><a name="zh-cn_topic_0183292665_p118190101656"></a>-s, --signal</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292665_p16861421431"><a name="zh-cn_topic_0183292665_p16861421431"></a><a name="zh-cn_topic_0183292665_p16861421431"></a>发送给容器的信号</p>
</td>
</tr>
</tbody>
</table>

### 示例

杀掉一个容器

```
# isula kill fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
```

## 删除容器

### 描述

isula rm命令用于删除一个或多个容器。

### 用法

```
isula rm [OPTIONS] CONTAINER [CONTAINER...]
```

### 参数

rm命令支持参数参考下表。

**表 1**  rm命令参数列表

<a name="zh-cn_topic_0183292666_table1415911244586"></a>
<table><tbody><tr id="zh-cn_topic_0183292666_row7264628165818"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292666_p135193313581"><a name="zh-cn_topic_0183292666_p135193313581"></a><a name="zh-cn_topic_0183292666_p135193313581"></a><strong id="zh-cn_topic_0183292666_b14511233125813"><a name="zh-cn_topic_0183292666_b14511233125813"></a><a name="zh-cn_topic_0183292666_b14511233125813"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292666_p15116335589"><a name="zh-cn_topic_0183292666_p15116335589"></a><a name="zh-cn_topic_0183292666_p15116335589"></a><strong id="zh-cn_topic_0183292666_b18517333584"><a name="zh-cn_topic_0183292666_b18517333584"></a><a name="zh-cn_topic_0183292666_b18517333584"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292666_p651153325816"><a name="zh-cn_topic_0183292666_p651153325816"></a><a name="zh-cn_topic_0183292666_p651153325816"></a><strong id="zh-cn_topic_0183292666_b7511833115817"><a name="zh-cn_topic_0183292666_b7511833115817"></a><a name="zh-cn_topic_0183292666_b7511833115817"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292666_row1551311511520"><td class="cellrowborder" rowspan="3" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292666_p1551301514517"><a name="zh-cn_topic_0183292666_p1551301514517"></a><a name="zh-cn_topic_0183292666_p1551301514517"></a><strong id="zh-cn_topic_0183292666_b232374193312"><a name="zh-cn_topic_0183292666_b232374193312"></a><a name="zh-cn_topic_0183292666_b232374193312"></a>rm</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292666_p18513141514517"><a name="zh-cn_topic_0183292666_p18513141514517"></a><a name="zh-cn_topic_0183292666_p18513141514517"></a>-f, --force</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292666_p18686121639"><a name="zh-cn_topic_0183292666_p18686121639"></a><a name="zh-cn_topic_0183292666_p18686121639"></a>强制移除正在运行的容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292666_row1394151573014"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292666_p445111743017"><a name="zh-cn_topic_0183292666_p445111743017"></a><a name="zh-cn_topic_0183292666_p445111743017"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292666_p1145701733014"><a name="zh-cn_topic_0183292666_p1145701733014"></a><a name="zh-cn_topic_0183292666_p1145701733014"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292666_row11287834145116"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292666_p132871334115116"><a name="zh-cn_topic_0183292666_p132871334115116"></a><a name="zh-cn_topic_0183292666_p132871334115116"></a>-v, --volume</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292666_p15287103415118"><a name="zh-cn_topic_0183292666_p15287103415118"></a><a name="zh-cn_topic_0183292666_p15287103415118"></a>移除挂载在容器上的卷（备注：目前iSulad尚不使用此功能）</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   在IO正常情况，空环境（只有1个容器）删除一个running容器的时间为T1，200个容器的环境（容器无大量IO操作，host IO正常）删除一个running容器所需时间为T2。T2的规格为：T2 = max \{ T1 \* 3,  5 \} 秒钟。

### 示例

删除一个停止状态的容器

```
# isula rm fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
```

## 接入容器

### 描述

isula attach命令用于将当前终端的标准输入、标准输出和标准错误连接到正在运行的容器。仅支持runtime类型为lcr的容器。

### 用法

```
isula attach [OPTIONS] CONTAINER
```

### 参数

attach命令支持参数参考下表。

**表 1**  attach命令参数列表

<a name="zh-cn_topic_0183292667_table14752840142911"></a>
<table><thead align="left"><tr id="zh-cn_topic_0183292667_row1561315411186"><th class="cellrowborder" valign="top" width="17.333333333333336%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0183292667_p16197118172112"><a name="zh-cn_topic_0183292667_p16197118172112"></a><a name="zh-cn_topic_0183292667_p16197118172112"></a><strong id="zh-cn_topic_0183292667_b121981618182110"><a name="zh-cn_topic_0183292667_b121981618182110"></a><a name="zh-cn_topic_0183292667_b121981618182110"></a>命令</strong></p>
</th>
<th class="cellrowborder" valign="top" width="39.57575757575758%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0183292667_p131981218102117"><a name="zh-cn_topic_0183292667_p131981218102117"></a><a name="zh-cn_topic_0183292667_p131981218102117"></a><strong id="zh-cn_topic_0183292667_b719861814214"><a name="zh-cn_topic_0183292667_b719861814214"></a><a name="zh-cn_topic_0183292667_b719861814214"></a>参数</strong></p>
</th>
<th class="cellrowborder" valign="top" width="43.09090909090909%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0183292667_p7685132114311"><a name="zh-cn_topic_0183292667_p7685132114311"></a><a name="zh-cn_topic_0183292667_p7685132114311"></a><strong id="zh-cn_topic_0183292667_b238118331471"><a name="zh-cn_topic_0183292667_b238118331471"></a><a name="zh-cn_topic_0183292667_b238118331471"></a>说明</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0183292667_row378741121914"><td class="cellrowborder" rowspan="3" valign="top" width="17.333333333333336%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0183292667_p2788111171911"><a name="zh-cn_topic_0183292667_p2788111171911"></a><a name="zh-cn_topic_0183292667_p2788111171911"></a><strong id="zh-cn_topic_0183292667_b19827526183312"><a name="zh-cn_topic_0183292667_b19827526183312"></a><a name="zh-cn_topic_0183292667_b19827526183312"></a>attach</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0183292667_p440023182210"><a name="zh-cn_topic_0183292667_p440023182210"></a><a name="zh-cn_topic_0183292667_p440023182210"></a>--help</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0183292667_p114002313226"><a name="zh-cn_topic_0183292667_p114002313226"></a><a name="zh-cn_topic_0183292667_p114002313226"></a>打印帮助信息</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292667_row159823516222"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0183292667_p622945315220"><a name="zh-cn_topic_0183292667_p622945315220"></a><a name="zh-cn_topic_0183292667_p622945315220"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0183292667_p11229125362213"><a name="zh-cn_topic_0183292667_p11229125362213"></a><a name="zh-cn_topic_0183292667_p11229125362213"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292667_row14595112722316"><td class="cellrowborder" valign="top" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0183292667_p17595162742311"><a name="zh-cn_topic_0183292667_p17595162742311"></a><a name="zh-cn_topic_0183292667_p17595162742311"></a>-D, --debug</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0183292667_p1959513279236"><a name="zh-cn_topic_0183292667_p1959513279236"></a><a name="zh-cn_topic_0183292667_p1959513279236"></a>开启debug模式</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   原生docker attach容器会直接进入容器，而isulad  attach容器后需要敲一个回车才进入。

### 示例

接入一个运行状态的容器

```
# isula attach fd7376591a9c3d8ee9a14f5d2c2e5255b02cc44cddaabca82170efd4497510e1
/ #
/ #
```

## 重命名容器

### 描述

isula rename命令用于重命名容器。

### 用法

```
isula rename [OPTIONS] OLD_NAME NEW_NAME
```

### 参数

rename命令支持参数参考下表。

**表 1**  rename 命令参数列表

<a name="zh-cn_topic_0183292668_table0848174213413"></a>
<table><tbody><tr id="zh-cn_topic_0183292668_row54494683415"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292668_p7693550173418"><a name="zh-cn_topic_0183292668_p7693550173418"></a><a name="zh-cn_topic_0183292668_p7693550173418"></a><strong id="zh-cn_topic_0183292668_b13693145013414"><a name="zh-cn_topic_0183292668_b13693145013414"></a><a name="zh-cn_topic_0183292668_b13693145013414"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292668_p17693850143412"><a name="zh-cn_topic_0183292668_p17693850143412"></a><a name="zh-cn_topic_0183292668_p17693850143412"></a><strong id="zh-cn_topic_0183292668_b66931950133417"><a name="zh-cn_topic_0183292668_b66931950133417"></a><a name="zh-cn_topic_0183292668_b66931950133417"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292668_p969315011341"><a name="zh-cn_topic_0183292668_p969315011341"></a><a name="zh-cn_topic_0183292668_p969315011341"></a><strong id="zh-cn_topic_0183292668_b9693850113411"><a name="zh-cn_topic_0183292668_b9693850113411"></a><a name="zh-cn_topic_0183292668_b9693850113411"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292668_row4726939228"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292668_p47278391425"><a name="zh-cn_topic_0183292668_p47278391425"></a><a name="zh-cn_topic_0183292668_p47278391425"></a><strong id="zh-cn_topic_0183292668_b16634175410211"><a name="zh-cn_topic_0183292668_b16634175410211"></a><a name="zh-cn_topic_0183292668_b16634175410211"></a>rename</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292668_p572773919214"><a name="zh-cn_topic_0183292668_p572773919214"></a><a name="zh-cn_topic_0183292668_p572773919214"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292668_p1172713917220"><a name="zh-cn_topic_0183292668_p1172713917220"></a><a name="zh-cn_topic_0183292668_p1172713917220"></a>重命名容器</p>
</td>
</tr>
</tbody>
</table>

### 示例

重命名一个容器

```
# isula rename my_container my_new_container
```

## 在容器中执行新命令

### 描述

isula exec命令用于正在运行的容器中运行一个新命令。新执行的命令将在容器的默认目录中运行。如果基础镜像指定了自定义目录，则将使用该目录。

### 用法

```
isula exec [OPTIONS] CONTAINER COMMAND [ARG...]
```

### 参数

exec命令支持参数参考下表。

**表 1**  exec命令参数列表

<a name="zh-cn_topic_0183292669_table123271972373"></a>
<table><tbody><tr id="zh-cn_topic_0183292669_row11911910193715"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292669_p1599121519378"><a name="zh-cn_topic_0183292669_p1599121519378"></a><a name="zh-cn_topic_0183292669_p1599121519378"></a><strong id="zh-cn_topic_0183292669_b129918157370"><a name="zh-cn_topic_0183292669_b129918157370"></a><a name="zh-cn_topic_0183292669_b129918157370"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292669_p129921517375"><a name="zh-cn_topic_0183292669_p129921517375"></a><a name="zh-cn_topic_0183292669_p129921517375"></a><strong id="zh-cn_topic_0183292669_b109921517373"><a name="zh-cn_topic_0183292669_b109921517373"></a><a name="zh-cn_topic_0183292669_b109921517373"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292669_p159941513375"><a name="zh-cn_topic_0183292669_p159941513375"></a><a name="zh-cn_topic_0183292669_p159941513375"></a><strong id="zh-cn_topic_0183292669_b699131593718"><a name="zh-cn_topic_0183292669_b699131593718"></a><a name="zh-cn_topic_0183292669_b699131593718"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292669_row27694315596"><td class="cellrowborder" rowspan="6" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292669_p059393215315"><a name="zh-cn_topic_0183292669_p059393215315"></a><a name="zh-cn_topic_0183292669_p059393215315"></a><strong id="zh-cn_topic_0183292669_b1060012451269"><a name="zh-cn_topic_0183292669_b1060012451269"></a><a name="zh-cn_topic_0183292669_b1060012451269"></a>exec</strong></p>
<p id="zh-cn_topic_0183292669_p17332618610"><a name="zh-cn_topic_0183292669_p17332618610"></a><a name="zh-cn_topic_0183292669_p17332618610"></a>&nbsp;&nbsp;</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292669_p176843115914"><a name="zh-cn_topic_0183292669_p176843115914"></a><a name="zh-cn_topic_0183292669_p176843115914"></a>-d, --detach</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292669_p166861121233"><a name="zh-cn_topic_0183292669_p166861121233"></a><a name="zh-cn_topic_0183292669_p166861121233"></a>后台运行命令</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292669_row144815810419"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p248105814415"><a name="zh-cn_topic_0183292669_p248105814415"></a><a name="zh-cn_topic_0183292669_p248105814415"></a>-e, --env</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p1240225963710"><a name="zh-cn_topic_0183292669_p1240225963710"></a><a name="zh-cn_topic_0183292669_p1240225963710"></a>设置环境变量（备注：目前iSulad尚不使用此功能）</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292669_row225582276"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p16101657289"><a name="zh-cn_topic_0183292669_p16101657289"></a><a name="zh-cn_topic_0183292669_p16101657289"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p10104456281"><a name="zh-cn_topic_0183292669_p10104456281"></a><a name="zh-cn_topic_0183292669_p10104456281"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292669_row185407613516"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p115401661558"><a name="zh-cn_topic_0183292669_p115401661558"></a><a name="zh-cn_topic_0183292669_p115401661558"></a>-i, --interactive</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p4818143019389"><a name="zh-cn_topic_0183292669_p4818143019389"></a><a name="zh-cn_topic_0183292669_p4818143019389"></a>没有连接，也要保持标准输入打开（备注：目前iSulad尚不使用此功能）</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292669_row2054016654"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p65401663515"><a name="zh-cn_topic_0183292669_p65401663515"></a><a name="zh-cn_topic_0183292669_p65401663515"></a>-t, --tty</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p1783413176392"><a name="zh-cn_topic_0183292669_p1783413176392"></a><a name="zh-cn_topic_0183292669_p1783413176392"></a>分配伪终端（备注：目前iSulad尚不使用此功能）</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292669_row3321661767"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p18331961361"><a name="zh-cn_topic_0183292669_p18331961361"></a><a name="zh-cn_topic_0183292669_p18331961361"></a>-u, --user</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292669_p93326361"><a name="zh-cn_topic_0183292669_p93326361"></a><a name="zh-cn_topic_0183292669_p93326361"></a>指定用户登录容器执行命令</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   isula exec 不指定任何参数时，会默认使用-it参数， 表示分配一个伪终端，以交互式的方式进入容器
-   当使用isula exec 执行脚本，在脚本中执行后台进程时，需使用nohup标志忽略SIGHUP信号。

    使用isula exec运行脚本,在脚本中运行后台进程需使用nohup标志。否则内核会在exec执行的进程（session首进程）退出时，向后台执行的进程发送SIGHUP信号，导致后台进程退出，出现僵尸进程。

-   isula exec 进入容器进程后，不能执行后台程序，否则会出现卡死现象。

    isula exec执行后台进程的方式如下：

    1.  使用isula exec进入容器终端，isula exec container\_name bash
    2.  进入容器后，执行 script &
    3.  执行exit，导致终端卡死

    ```
    isula exec 进入容器后，执行后台程序卡住的原因为isula exec进入容器运行后台while1程序，当bash退出时，while1程序并不会退出，变为孤儿进程由1号
    进程接管，while1程序是由容器的初始bash进程fork &exec执行的，while1进程复制了bash进程的文件句柄，导致bash退出时，句柄并未完全关闭，导致
    console进程收不到句柄关闭事件，epoll_wait卡住，进程不退出。
    ```

-   isula exec 不能用后台方式执行，否则可能会出现卡死现象。

    isula exec后台执行的方式如下：

    使用**isula exec 脚本 & **的方式后台执行exec，如：isula exec container\_name script & ，isula exec 后台执行，执行的脚本中不断cat某一文件，正常时在当前终端有输出，如果在当前终端执行回车操作，客户端会因读IO失败而退出读stdout的动作，使终端不再输出，服务端由于进程仍然在cat文件，会继续往fifo的buffer里写入数据，当缓存写满时，容器内进程会卡死在write动作上。

-   轻量级容器使用exec执行带有管道操作的命令时，建议使用/bin/bash -c 方式执行该命令。

    典型应用场景：

    使用isula exec container\_name -it ls /test | grep "xx" | wc -l,用于统计test目录下xx的文件个数，因exec执行的为"ls /test",其输出通过管道进行grep、wc 处理。exec执行的为"ls /test"的输出会换行，再针对该输出进行处理时，结果有误。

    原因：使用exec 执行ls /test,输出带有换行，针对该输出进行“| grep "xx" | wc -l“，处理结果为2（两行）

    ```
    # isula exec  -it container ls /test
    xx    xx10  xx12  xx14  xx3   xx5   xx7   xx9
    xx1   xx11  xx13  xx2   xx4   xx6   xx8
    #
    ```

    建议处理方式：使用run/exec执行带有管道操作的命令时，使用/bin/bash -c 执行命令，在容器中执行管道操作。

    ```
    # isula exec  -it container  /bin/sh -c "ls /test | grep "xx" | wc -l"
    15
    #
    ```

-   禁止使用echo的方式向exec命令的stdin输入数据，会导致客户端卡死。应该直接将echo的值作为命令行参数传给容器

    ```
    # echo ls | isula exec 38 /bin/sh
    
    
    ^C
    #
    ```

    上述命令可能出现客户端卡死现象，这是由于上述命令相当于往stdin输入ls，随后EOF被读取，客户端不再发送数据，等待服务端退出，但是服务端无法区分客户端是否需要继续发送数据，因而服务端卡在read数据上，最终导致双方均卡死。

    正确的执行方式为：

    ```
    # isula exec 38 ls
    bin   dev   etc   home  proc  root  sys   tmp   usr   var
    ```


### 示例

在运行中的容器中，执行echo命令

```
# isula exec c75284634bee echo "hello,world"
hello,world
```

## 查询单个容器信息

### 描述

isula inspect提供了容器的详细信息。

### 用法

```
isula inspect [OPTIONS] CONTAINER|IMAGE [CONTAINER|IMAGE...]
```

### 参数

inspect命令支持参数参考下表。

**表 1**  inspect命令参数列表

<a name="zh-cn_topic_0183292670_table13831181815417"></a>
<table><tbody><tr id="zh-cn_topic_0183292670_row4440192185418"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292670_p11340112615418"><a name="zh-cn_topic_0183292670_p11340112615418"></a><a name="zh-cn_topic_0183292670_p11340112615418"></a><strong id="zh-cn_topic_0183292670_b934022675420"><a name="zh-cn_topic_0183292670_b934022675420"></a><a name="zh-cn_topic_0183292670_b934022675420"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292670_p1134022665415"><a name="zh-cn_topic_0183292670_p1134022665415"></a><a name="zh-cn_topic_0183292670_p1134022665415"></a><strong id="zh-cn_topic_0183292670_b103408265544"><a name="zh-cn_topic_0183292670_b103408265544"></a><a name="zh-cn_topic_0183292670_b103408265544"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292670_p7340202611549"><a name="zh-cn_topic_0183292670_p7340202611549"></a><a name="zh-cn_topic_0183292670_p7340202611549"></a><strong id="zh-cn_topic_0183292670_b1934011266545"><a name="zh-cn_topic_0183292670_b1934011266545"></a><a name="zh-cn_topic_0183292670_b1934011266545"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292670_row1451341192811"><td class="cellrowborder" rowspan="3" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292670_p158191510857"><a name="zh-cn_topic_0183292670_p158191510857"></a><a name="zh-cn_topic_0183292670_p158191510857"></a><strong id="zh-cn_topic_0183292670_b155461026123118"><a name="zh-cn_topic_0183292670_b155461026123118"></a><a name="zh-cn_topic_0183292670_b155461026123118"></a>inspect</strong></p>
<p id="zh-cn_topic_0183292670_p178431844209"><a name="zh-cn_topic_0183292670_p178431844209"></a><a name="zh-cn_topic_0183292670_p178431844209"></a>&nbsp;&nbsp;</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292670_p775614486282"><a name="zh-cn_topic_0183292670_p775614486282"></a><a name="zh-cn_topic_0183292670_p775614486282"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292670_p16761048112813"><a name="zh-cn_topic_0183292670_p16761048112813"></a><a name="zh-cn_topic_0183292670_p16761048112813"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292670_row88191210357"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292670_p781919105511"><a name="zh-cn_topic_0183292670_p781919105511"></a><a name="zh-cn_topic_0183292670_p781919105511"></a>-f, --format</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292670_p468615213310"><a name="zh-cn_topic_0183292670_p468615213310"></a><a name="zh-cn_topic_0183292670_p468615213310"></a>使用模板格式化输出</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292670_row084314449019"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292670_p18448447015"><a name="zh-cn_topic_0183292670_p18448447015"></a><a name="zh-cn_topic_0183292670_p18448447015"></a>-t, --time</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292670_p3844644404"><a name="zh-cn_topic_0183292670_p3844644404"></a><a name="zh-cn_topic_0183292670_p3844644404"></a>超时时间的秒数，若在该时间内inspect查询容器信息未执行成功，则停止等待并立即报错，默认为120秒，当配置小于等于0的值，表示不启用timeout机制inspect查询容器信息会一直等待，直到获取容器信息成功后返回。</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   轻量级容器不支持format为“\{ \{.State\} \}”的格式化输出，支持“\{ \{json .State\} \}”的json格式化输出。当inspect镜像时，不支持-f参数。

### 示例

查询容器信息

```
# isula inspect c75284634bee
[
    {
        "Id": "c75284634beeede3ab86c828790b439d16b6ed8a537550456b1f94eb852c1c0a",
        "Created": "2019-08-01T22:48:13.993304927-04:00",
        "Path": "sh",
        "Args": [],
        "State": {
            "Status": "running",
            "Running": true,
            "Paused": false,
            "Restarting": false,
            "Pid": 21164,
            "ExitCode": 0,
            "Error": "",
            "StartedAt": "2019-08-02T06:09:25.535049168-04:00",
            "FinishedAt": "2019-08-02T04:28:09.479766839-04:00",
            "Health": {
                "Status": "",
                "FailingStreak": 0,
                "Log": []
            }
        },
        "Image": "busybox",
        "ResolvConfPath": "",
        "HostnamePath": "",
        "HostsPath": "",
        "LogPath": "none",
        "Name": "c75284634beeede3ab86c828790b439d16b6ed8a537550456b1f94eb852c1c0a",
        "RestartCount": 0,
        "HostConfig": {
            "Binds": [],
            "NetworkMode": "",
            "GroupAdd": [],
            "IpcMode": "",
            "PidMode": "",
            "Privileged": false,
            "SystemContainer": false,
            "NsChangeFiles": [],
            "UserRemap": "",
            "ShmSize": 67108864,
            "AutoRemove": false,
            "AutoRemoveBak": false,
            "ReadonlyRootfs": false,
            "UTSMode": "",
            "UsernsMode": "",
            "Sysctls": {},
            "Runtime": "lcr",
            "RestartPolicy": {
                "Name": "no",
                "MaximumRetryCount": 0
            },
            "CapAdd": [],
            "CapDrop": [],
            "Dns": [],
            "DnsOptions": [],
            "DnsSearch": [],
            "ExtraHosts": [],
            "HookSpec": "",
            "CPUShares": 0,
            "Memory": 0,
            "OomScoreAdj": 0,
            "BlkioWeight": 0,
            "BlkioWeightDevice": [],
            "CPUPeriod": 0,
            "CPUQuota": 0,
            "CPURealtimePeriod": 0,
            "CPURealtimeRuntime": 0,
            "CpusetCpus": "",
            "CpusetMems": "",
            "SecurityOpt": [],
            "StorageOpt": {},
            "KernelMemory": 0,
            "MemoryReservation": 0,
            "MemorySwap": 0,
            "OomKillDisable": false,
            "PidsLimit": 0,
            "FilesLimit": 0,
            "Ulimits": [],
            "Hugetlbs": [],
            "HostChannel": {
                "PathOnHost": "",
                "PathInContainer": "",
                "Permissions": "",
                "Size": 0
            },
            "EnvTargetFile": "",
            "ExternalRootfs": ""
        },
        "Mounts": [],
        "Config": {
            "Hostname": "localhost",
            "User": "",
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "TERM=xterm",
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
            ],
            "Tty": true,
            "Cmd": [
                "sh"
            ],
            "Entrypoint": [],
            "Labels": {},
            "Annotations": {
                "log.console.file": "none",
                "log.console.filerotate": "7",
                "log.console.filesize": "1MB",
                "rootfs.mount": "/var/lib/isulad/mnt/rootfs",
                "native.umask": "secure"
            },
            "HealthCheck": {
                "Test": [],
                "Interval": 0,
                "Timeout": 0,
                "StartPeriod": 0,
                "Retries": 0,
                "ExitOnUnhealthy": false
            }
        },
        "NetworkSettings": {
            "IPAddress": ""
        }
    }
]
```

## 查询所有容器信息

### 描述

isula ps 用于查询所有容器的信息。

### 用法

```
isula ps [OPTIONS]
```

### 参数

ps命令支持参数参考下表。

**表 1**  ps命令参数列表

<a name="zh-cn_topic_0183292671_table116431017151015"></a>
<table><tbody><tr id="zh-cn_topic_0183292671_row1892743561016"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292671_p647714113100"><a name="zh-cn_topic_0183292671_p647714113100"></a><a name="zh-cn_topic_0183292671_p647714113100"></a><strong id="zh-cn_topic_0183292671_b947764101011"><a name="zh-cn_topic_0183292671_b947764101011"></a><a name="zh-cn_topic_0183292671_b947764101011"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292671_p19477184141017"><a name="zh-cn_topic_0183292671_p19477184141017"></a><a name="zh-cn_topic_0183292671_p19477184141017"></a><strong id="zh-cn_topic_0183292671_b1247784161017"><a name="zh-cn_topic_0183292671_b1247784161017"></a><a name="zh-cn_topic_0183292671_b1247784161017"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292671_p14772415101"><a name="zh-cn_topic_0183292671_p14772415101"></a><a name="zh-cn_topic_0183292671_p14772415101"></a><strong id="zh-cn_topic_0183292671_b16477841141015"><a name="zh-cn_topic_0183292671_b16477841141015"></a><a name="zh-cn_topic_0183292671_b16477841141015"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292671_row1051316155514"><td class="cellrowborder" rowspan="6" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292671_p1751361519519"><a name="zh-cn_topic_0183292671_p1751361519519"></a><a name="zh-cn_topic_0183292671_p1751361519519"></a><strong id="zh-cn_topic_0183292671_b17395283215"><a name="zh-cn_topic_0183292671_b17395283215"></a><a name="zh-cn_topic_0183292671_b17395283215"></a>ps</strong></p>
<p id="zh-cn_topic_0183292671_p187333219234"><a name="zh-cn_topic_0183292671_p187333219234"></a><a name="zh-cn_topic_0183292671_p187333219234"></a>&nbsp;&nbsp;</p>
<p id="zh-cn_topic_0183292671_p961891475811"><a name="zh-cn_topic_0183292671_p961891475811"></a><a name="zh-cn_topic_0183292671_p961891475811"></a>&nbsp;&nbsp;</p>
<p id="zh-cn_topic_0183292671_p11287101518"><a name="zh-cn_topic_0183292671_p11287101518"></a><a name="zh-cn_topic_0183292671_p11287101518"></a>&nbsp;&nbsp;</p>
<p id="zh-cn_topic_0183292671_p1354335311522"><a name="zh-cn_topic_0183292671_p1354335311522"></a><a name="zh-cn_topic_0183292671_p1354335311522"></a>&nbsp;&nbsp;</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292671_p55132151556"><a name="zh-cn_topic_0183292671_p55132151556"></a><a name="zh-cn_topic_0183292671_p55132151556"></a>-a, --all</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292671_p86860216314"><a name="zh-cn_topic_0183292671_p86860216314"></a><a name="zh-cn_topic_0183292671_p86860216314"></a>显示所有的容器</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292671_row1293653612919"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p1950214384295"><a name="zh-cn_topic_0183292671_p1950214384295"></a><a name="zh-cn_topic_0183292671_p1950214384295"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p10506113822910"><a name="zh-cn_topic_0183292671_p10506113822910"></a><a name="zh-cn_topic_0183292671_p10506113822910"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292671_row4733729230"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p5733162132318"><a name="zh-cn_topic_0183292671_p5733162132318"></a><a name="zh-cn_topic_0183292671_p5733162132318"></a>-q, --quiet</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p473352142318"><a name="zh-cn_topic_0183292671_p473352142318"></a><a name="zh-cn_topic_0183292671_p473352142318"></a>只显示容器名字</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292671_row11618514105815"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p161812143587"><a name="zh-cn_topic_0183292671_p161812143587"></a><a name="zh-cn_topic_0183292671_p161812143587"></a>-f, --filter</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p461891416584"><a name="zh-cn_topic_0183292671_p461891416584"></a><a name="zh-cn_topic_0183292671_p461891416584"></a>增加筛选过滤条件</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292671_row12287190155116"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p42872015512"><a name="zh-cn_topic_0183292671_p42872015512"></a><a name="zh-cn_topic_0183292671_p42872015512"></a>--format</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p1228717019517"><a name="zh-cn_topic_0183292671_p1228717019517"></a><a name="zh-cn_topic_0183292671_p1228717019517"></a>按照模板声明的方式输出数据</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292671_row1454255310529"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p854305314521"><a name="zh-cn_topic_0183292671_p854305314521"></a><a name="zh-cn_topic_0183292671_p854305314521"></a>--no-trunc</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292671_p554315313522"><a name="zh-cn_topic_0183292671_p554315313522"></a><a name="zh-cn_topic_0183292671_p554315313522"></a>不对容器ID进行截断打印</p>
</td>
</tr>
</tbody>
</table>

### 示例

查询所有容器信息

```
# isula ps -a

ID           IMAGE                                     STATUS  PID    COMMAND EXIT_CODE RESTART_COUNT STARTAT        FINISHAT    RUNTIME NAMES
e84660aa059c rnd-dockerhub.huawei.com/official/busybox running 304765 "sh"    0         0             13 minutes ago -           lcr     e84660aa059cafb0a77a4002e65cc9186949132b8e57b7f4d76aa22f28fde016
# isula ps -a --format "table {{.ID}} {{.Image}}" --no-trunc
ID                                                               IMAGE
e84660aa059cafb0a77a4002e65cc9186949132b8e57b7f4d76aa22f28fde016 rnd-dockerhub.huawei.com/official/busybox

```

## 重启容器

### 描述

isula restart 用于重启一个或者多个容器。

### 用法

```
isula restart [OPTIONS] CONTAINER [CONTAINER...]
```

### 参数

restart命令支持参数参考下表。

**表 1**  restart 命令参数列表

<a name="zh-cn_topic_0183292672_table137858361717"></a>
<table><tbody><tr id="zh-cn_topic_0183292672_row267501311712"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292672_p46961418141710"><a name="zh-cn_topic_0183292672_p46961418141710"></a><a name="zh-cn_topic_0183292672_p46961418141710"></a><strong id="zh-cn_topic_0183292672_b18696181817172"><a name="zh-cn_topic_0183292672_b18696181817172"></a><a name="zh-cn_topic_0183292672_b18696181817172"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292672_p1569691821712"><a name="zh-cn_topic_0183292672_p1569691821712"></a><a name="zh-cn_topic_0183292672_p1569691821712"></a><strong id="zh-cn_topic_0183292672_b06971184174"><a name="zh-cn_topic_0183292672_b06971184174"></a><a name="zh-cn_topic_0183292672_b06971184174"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292672_p11697121811175"><a name="zh-cn_topic_0183292672_p11697121811175"></a><a name="zh-cn_topic_0183292672_p11697121811175"></a><strong id="zh-cn_topic_0183292672_b1969761891719"><a name="zh-cn_topic_0183292672_b1969761891719"></a><a name="zh-cn_topic_0183292672_b1969761891719"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292672_row1937135117295"><td class="cellrowborder" rowspan="2" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292672_p151311157514"><a name="zh-cn_topic_0183292672_p151311157514"></a><a name="zh-cn_topic_0183292672_p151311157514"></a><strong id="zh-cn_topic_0183292672_b1764311131331"><a name="zh-cn_topic_0183292672_b1764311131331"></a><a name="zh-cn_topic_0183292672_b1764311131331"></a>restart</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292672_p1153405792918"><a name="zh-cn_topic_0183292672_p1153405792918"></a><a name="zh-cn_topic_0183292672_p1153405792918"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292672_p12538145719290"><a name="zh-cn_topic_0183292672_p12538145719290"></a><a name="zh-cn_topic_0183292672_p12538145719290"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292672_row351313151155"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292672_p1151310155517"><a name="zh-cn_topic_0183292672_p1151310155517"></a><a name="zh-cn_topic_0183292672_p1151310155517"></a>-t, --time</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292672_p1168613218314"><a name="zh-cn_topic_0183292672_p1168613218314"></a><a name="zh-cn_topic_0183292672_p1168613218314"></a>先优雅停止，超过这个时间，则强行终止</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   指定t参数且t<0时，请确保自己容器的应用会处理stop信号。

    restart会首先调用stop停止容器。stop会首先给容器发送stop信号（SIGTERM），然后等待一定的时间（这个时间就是用户输入的 t），过了一定时间如果容器仍处于运行状态，那么就发送kill信号（SIGKILL）使容器强制退出。

-   输入参数t的含义：

    t<0  : 表示一直等待，不管多久都等待程序优雅退出，既然用户这么输入了，表示对自己的应用比较放心，认为自己的程序有合理的stop信号的处理机制。

    t=0 ： 表示不等，立即发送kill -9 到容器。

    t\>0 ： 表示等一定的时间，如果容器还未退出，就发送kill -9 到容器。

    所以如果用户使用t<0（比如t=-1），请确保自己容器的应用会正确处理SIGTERM. 如果容器忽略了该信号，会导致isula restart一直卡住。


### 示例

重启单个容器

```
# isula restart c75284634beeede3ab86c828790b439d16b6ed8a537550456b1f94eb852c1c0a
 c75284634beeede3ab86c828790b439d16b6ed8a537550456b1f94eb852c1c0a 
```

## 等待容器退出

### 描述

isula wait用于等待一个或者多个容器退出。仅支持runtime类型为lcr的容器。

### 用法

```
isula wait [OPTIONS] CONTAINER [CONTAINER...]
```

### 参数

wait命令支持参数参考下表。

**表 1**  wait命令参数列表

<a name="zh-cn_topic_0183292673_table5504410103614"></a>
<table><tbody><tr id="zh-cn_topic_0183292673_row3860413123616"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292673_p1924011817360"><a name="zh-cn_topic_0183292673_p1924011817360"></a><a name="zh-cn_topic_0183292673_p1924011817360"></a><strong id="zh-cn_topic_0183292673_b18240518153611"><a name="zh-cn_topic_0183292673_b18240518153611"></a><a name="zh-cn_topic_0183292673_b18240518153611"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292673_p2240131815362"><a name="zh-cn_topic_0183292673_p2240131815362"></a><a name="zh-cn_topic_0183292673_p2240131815362"></a><strong id="zh-cn_topic_0183292673_b12402189364"><a name="zh-cn_topic_0183292673_b12402189364"></a><a name="zh-cn_topic_0183292673_b12402189364"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292673_p824010189363"><a name="zh-cn_topic_0183292673_p824010189363"></a><a name="zh-cn_topic_0183292673_p824010189363"></a><strong id="zh-cn_topic_0183292673_b5240131863612"><a name="zh-cn_topic_0183292673_b5240131863612"></a><a name="zh-cn_topic_0183292673_b5240131863612"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292673_row1877872243318"><td class="cellrowborder" rowspan="2" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292673_p12454121193413"><a name="zh-cn_topic_0183292673_p12454121193413"></a><a name="zh-cn_topic_0183292673_p12454121193413"></a><strong id="zh-cn_topic_0183292673_b10950153316341"><a name="zh-cn_topic_0183292673_b10950153316341"></a><a name="zh-cn_topic_0183292673_b10950153316341"></a>wait</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292673_p1949112354334"><a name="zh-cn_topic_0183292673_p1949112354334"></a><a name="zh-cn_topic_0183292673_p1949112354334"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292673_p249913515339"><a name="zh-cn_topic_0183292673_p249913515339"></a><a name="zh-cn_topic_0183292673_p249913515339"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292673_row8513715552"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292673_p15141715253"><a name="zh-cn_topic_0183292673_p15141715253"></a><a name="zh-cn_topic_0183292673_p15141715253"></a>/</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292673_p1698720587218"><a name="zh-cn_topic_0183292673_p1698720587218"></a><a name="zh-cn_topic_0183292673_p1698720587218"></a><span>阻塞，直到容器停止，然后打印退出代码</span></p>
</td>
</tr>
</tbody>
</table>

### 示例

等待单个容器退出

```
# isula wait c75284634beeede3ab86c828790b439d16b6ed8a537550456b1f94eb852c1c0a
 137 
```

## 查看容器中进程信息

### 描述

isula top用于查看容器中的进程信息。仅支持runtime类型为lcr的容器。

### 用法

```
isula top [OPTIONS] container [ps options]
```

### 参数

top命令支持参数参考下表。

**表 1**  top命令参数列表

<a name="zh-cn_topic_0183292674_table17675155184214"></a>
<table><tbody><tr id="zh-cn_topic_0183292674_row20270691423"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292674_p3380191384218"><a name="zh-cn_topic_0183292674_p3380191384218"></a><a name="zh-cn_topic_0183292674_p3380191384218"></a><strong id="zh-cn_topic_0183292674_b163807135422"><a name="zh-cn_topic_0183292674_b163807135422"></a><a name="zh-cn_topic_0183292674_b163807135422"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292674_p18380313174219"><a name="zh-cn_topic_0183292674_p18380313174219"></a><a name="zh-cn_topic_0183292674_p18380313174219"></a><strong id="zh-cn_topic_0183292674_b15380213124216"><a name="zh-cn_topic_0183292674_b15380213124216"></a><a name="zh-cn_topic_0183292674_b15380213124216"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292674_p17380413164215"><a name="zh-cn_topic_0183292674_p17380413164215"></a><a name="zh-cn_topic_0183292674_p17380413164215"></a><strong id="zh-cn_topic_0183292674_b1838021364210"><a name="zh-cn_topic_0183292674_b1838021364210"></a><a name="zh-cn_topic_0183292674_b1838021364210"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183292674_row12517277157"><td class="cellrowborder" rowspan="2" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183292674_p225222714151"><a name="zh-cn_topic_0183292674_p225222714151"></a><a name="zh-cn_topic_0183292674_p225222714151"></a><strong id="zh-cn_topic_0183292674_b1048744013165"><a name="zh-cn_topic_0183292674_b1048744013165"></a><a name="zh-cn_topic_0183292674_b1048744013165"></a>top</strong></p>
<p id="zh-cn_topic_0183292674_p16253122751518"><a name="zh-cn_topic_0183292674_p16253122751518"></a><a name="zh-cn_topic_0183292674_p16253122751518"></a>&nbsp;&nbsp;</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183292674_p999125117202"><a name="zh-cn_topic_0183292674_p999125117202"></a><a name="zh-cn_topic_0183292674_p999125117202"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183292674_p599115517207"><a name="zh-cn_topic_0183292674_p599115517207"></a><a name="zh-cn_topic_0183292674_p599115517207"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183292674_row525202712159"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292674_p20991125110207"><a name="zh-cn_topic_0183292674_p20991125110207"></a><a name="zh-cn_topic_0183292674_p20991125110207"></a>/</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183292674_p599117517200"><a name="zh-cn_topic_0183292674_p599117517200"></a><a name="zh-cn_topic_0183292674_p599117517200"></a>查询运行容器的进程信息</p>
</td>
</tr>
</tbody>
</table>

### 示例

查询容器中进程信息

```
# isula top 21fac8bb9ea8e0be4313c8acea765c8b4798b7d06e043bbab99fc20efa72629c
UID        PID  PPID  C STIME TTY          TIME CMD
root     22166 22163  0 23:04 pts/1    00:00:00 sh
```

## 查看容器使用的资源

### 描述

isula stats用于实时显示资源使用的统计信息。仅支持runtime类型为lcr的容器。

### 用法

```
isula stats [OPTIONS] [CONTAINER...]
```

### 参数

stats命令支持参数参考下表。

**表 1**  stats命令参数列表

<a name="zh-cn_topic_0183385024_table17441132195013"></a>
<table><tbody><tr id="zh-cn_topic_0183385024_row1946936105017"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183385024_p1032317392502"><a name="zh-cn_topic_0183385024_p1032317392502"></a><a name="zh-cn_topic_0183385024_p1032317392502"></a><strong id="zh-cn_topic_0183385024_b1832323911500"><a name="zh-cn_topic_0183385024_b1832323911500"></a><a name="zh-cn_topic_0183385024_b1832323911500"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183385024_p432313914504"><a name="zh-cn_topic_0183385024_p432313914504"></a><a name="zh-cn_topic_0183385024_p432313914504"></a><strong id="zh-cn_topic_0183385024_b1032343910507"><a name="zh-cn_topic_0183385024_b1032343910507"></a><a name="zh-cn_topic_0183385024_b1032343910507"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183385024_p17323739195015"><a name="zh-cn_topic_0183385024_p17323739195015"></a><a name="zh-cn_topic_0183385024_p17323739195015"></a><strong id="zh-cn_topic_0183385024_b93238398503"><a name="zh-cn_topic_0183385024_b93238398503"></a><a name="zh-cn_topic_0183385024_b93238398503"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183385024_row1369519463615"><td class="cellrowborder" rowspan="3" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183385024_p169613453619"><a name="zh-cn_topic_0183385024_p169613453619"></a><a name="zh-cn_topic_0183385024_p169613453619"></a><strong id="zh-cn_topic_0183385024_b39381010163620"><a name="zh-cn_topic_0183385024_b39381010163620"></a><a name="zh-cn_topic_0183385024_b39381010163620"></a>stats</strong></p>
<p id="zh-cn_topic_0183385024_p134044575366"><a name="zh-cn_topic_0183385024_p134044575366"></a><a name="zh-cn_topic_0183385024_p134044575366"></a>&nbsp;&nbsp;</p>
<p id="zh-cn_topic_0183385024_p256463013371"><a name="zh-cn_topic_0183385024_p256463013371"></a><a name="zh-cn_topic_0183385024_p256463013371"></a>&nbsp;&nbsp;</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183385024_p104901417103610"><a name="zh-cn_topic_0183385024_p104901417103610"></a><a name="zh-cn_topic_0183385024_p104901417103610"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183385024_p166979433617"><a name="zh-cn_topic_0183385024_p166979433617"></a><a name="zh-cn_topic_0183385024_p166979433617"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183385024_row114031757103617"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385024_p194045578363"><a name="zh-cn_topic_0183385024_p194045578363"></a><a name="zh-cn_topic_0183385024_p194045578363"></a>-a, --all</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385024_p5404457163611"><a name="zh-cn_topic_0183385024_p5404457163611"></a><a name="zh-cn_topic_0183385024_p5404457163611"></a>显示所有容器（默认只显示运行中的容器）</p>
</td>
</tr>
<tr id="zh-cn_topic_0183385024_row056333013377"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385024_p165641030193716"><a name="zh-cn_topic_0183385024_p165641030193716"></a><a name="zh-cn_topic_0183385024_p165641030193716"></a>--no-stream</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385024_p01374203812"><a name="zh-cn_topic_0183385024_p01374203812"></a><a name="zh-cn_topic_0183385024_p01374203812"></a>非流式方式的stats，只打印第一次结果</p>
</td>
</tr>
</tbody>
</table>

### 示例

显示资源使用的统计信息

```
# isula stats --no-stream 21fac8bb9ea8e0be4313c8acea765c8b4798b7d06e043bbab99fc20efa72629c                                                                                 CONTAINER        CPU %      MEM USAGE / LIMIT          MEM %      BLOCK I / O                PIDS      
21fac8bb9ea8     0.00       56.00 KiB / 7.45 GiB       0.00       0.00 B / 0.00 B            1  
```

## 获取容器日志

### 描述

isula logs用于获取容器的日志。仅支持runtime类型为lcr的容器。

### 用法

```
isula logs [OPTIONS] [CONTAINER...]
```

### 参数

logs命令支持参数参考下表。

**表 1**  logs命令参数列表

<a name="zh-cn_topic_0183385749_table947315512062"></a>
<table><tbody><tr id="zh-cn_topic_0183385749_row3520144677"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183385749_p19203188678"><a name="zh-cn_topic_0183385749_p19203188678"></a><a name="zh-cn_topic_0183385749_p19203188678"></a><strong id="zh-cn_topic_0183385749_b820311811711"><a name="zh-cn_topic_0183385749_b820311811711"></a><a name="zh-cn_topic_0183385749_b820311811711"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183385749_p11203148076"><a name="zh-cn_topic_0183385749_p11203148076"></a><a name="zh-cn_topic_0183385749_p11203148076"></a><strong id="zh-cn_topic_0183385749_b82031484716"><a name="zh-cn_topic_0183385749_b82031484716"></a><a name="zh-cn_topic_0183385749_b82031484716"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183385749_p1020398773"><a name="zh-cn_topic_0183385749_p1020398773"></a><a name="zh-cn_topic_0183385749_p1020398773"></a><strong id="zh-cn_topic_0183385749_b182031381770"><a name="zh-cn_topic_0183385749_b182031381770"></a><a name="zh-cn_topic_0183385749_b182031381770"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183385749_row14697142222913"><td class="cellrowborder" rowspan="3" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183385749_p16819111014516"><a name="zh-cn_topic_0183385749_p16819111014516"></a><a name="zh-cn_topic_0183385749_p16819111014516"></a><strong id="zh-cn_topic_0183385749_b1379012813322"><a name="zh-cn_topic_0183385749_b1379012813322"></a><a name="zh-cn_topic_0183385749_b1379012813322"></a>logs</strong></p>
<p id="zh-cn_topic_0183385749_p8819810351"><a name="zh-cn_topic_0183385749_p8819810351"></a><a name="zh-cn_topic_0183385749_p8819810351"></a>&nbsp;&nbsp;</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183385749_p5821430112915"><a name="zh-cn_topic_0183385749_p5821430112915"></a><a name="zh-cn_topic_0183385749_p5821430112915"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183385749_p284113015293"><a name="zh-cn_topic_0183385749_p284113015293"></a><a name="zh-cn_topic_0183385749_p284113015293"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0183385749_row128198101251"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385749_p108192101852"><a name="zh-cn_topic_0183385749_p108192101852"></a><a name="zh-cn_topic_0183385749_p108192101852"></a>-f, --follow</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385749_p86861211314"><a name="zh-cn_topic_0183385749_p86861211314"></a><a name="zh-cn_topic_0183385749_p86861211314"></a>跟踪日志输出</p>
</td>
</tr>
<tr id="zh-cn_topic_0183385749_row58191610350"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385749_p118191110955"><a name="zh-cn_topic_0183385749_p118191110955"></a><a name="zh-cn_topic_0183385749_p118191110955"></a>--tail</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0183385749_p1568617213316"><a name="zh-cn_topic_0183385749_p1568617213316"></a><a name="zh-cn_topic_0183385749_p1568617213316"></a>显示日志行数</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   容器串口logs日志记录功能，默认为开启状态，需要关闭可以通过 isula create --log-opt disable-log=true 或 isula run --log-opt disable-log=true 关闭。

### 示例

获取容器日志

```
# isula logs 6a144695f5dae81e22700a8a78fac28b19f8bf40e8827568b3329c7d4f742406
hello, world
hello, world
hello, world
```

## 容器与主机之间数据拷贝

### 描述

isula cp 用于容器与主机之间的数据拷贝，仅支持runtime类型为lcr的容器。

### 用法

```
isula cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH
isula cp [OPTIONS] SRC_PATH CONTAINER:DEST_PATH
```

### 参数

cp命令支持参数参考下表。

**表 1**  cp命令参数列表

<a name="zh-cn_topic_0183385750_table45852013111514"></a>
<table><tbody><tr id="zh-cn_topic_0183385750_row1790211601513"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183385750_p7179821161516"><a name="zh-cn_topic_0183385750_p7179821161516"></a><a name="zh-cn_topic_0183385750_p7179821161516"></a><strong id="zh-cn_topic_0183385750_b91798219151"><a name="zh-cn_topic_0183385750_b91798219151"></a><a name="zh-cn_topic_0183385750_b91798219151"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183385750_p15179121111511"><a name="zh-cn_topic_0183385750_p15179121111511"></a><a name="zh-cn_topic_0183385750_p15179121111511"></a><strong id="zh-cn_topic_0183385750_b717982112150"><a name="zh-cn_topic_0183385750_b717982112150"></a><a name="zh-cn_topic_0183385750_b717982112150"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183385750_p10180152151511"><a name="zh-cn_topic_0183385750_p10180152151511"></a><a name="zh-cn_topic_0183385750_p10180152151511"></a><strong id="zh-cn_topic_0183385750_b718015216152"><a name="zh-cn_topic_0183385750_b718015216152"></a><a name="zh-cn_topic_0183385750_b718015216152"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0183385750_row89859561117"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0183385750_p69851856411"><a name="zh-cn_topic_0183385750_p69851856411"></a><a name="zh-cn_topic_0183385750_p69851856411"></a><strong id="zh-cn_topic_0183385750_b192299211024"><a name="zh-cn_topic_0183385750_b192299211024"></a><a name="zh-cn_topic_0183385750_b192299211024"></a>cp</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0183385750_p549293210212"><a name="zh-cn_topic_0183385750_p549293210212"></a><a name="zh-cn_topic_0183385750_p549293210212"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0183385750_p1049213321528"><a name="zh-cn_topic_0183385750_p1049213321528"></a><a name="zh-cn_topic_0183385750_p1049213321528"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   iSulad在执行拷贝时，不会挂载/etc/hostname， /etc/resolv.conf，/etc/hosts三个文件，也不会对--volume和--mount参数传入的参数挂载到host，所以对这些文件的拷贝使用的是镜像中的原始文件，而不是真实容器中的文件。

    ```
    # isula cp b330e9be717a:/etc/hostname /tmp/hostname
    # cat /tmp/hostname
    # 
    ```

-   iSulad在解压文件时，不会对文件系统中即将被覆盖的文件或文件夹做类型判断，而是直接覆盖，所以在拷贝时，如果源为文件夹，同名的文件会被强制覆盖为文件夹；如果源为文件，同名的文件夹会被强制覆盖为文件。

    ```
    # rm -rf /tmp/test_file_to_dir && mkdir /tmp/test_file_to_dir
    # isula exec b330e9be717a /bin/sh -c "rm -rf /tmp/test_file_to_dir && touch /tmp/test_file_to_dir"
    # isula cp b330e9be717a:/tmp/test_file_to_dir /tmp
    # ls -al /tmp | grep test_file_to_dir
    -rw-r-----    1 root     root             0 Apr 26 09:59 test_file_to_dir
    ```


-   iSulad 在cp拷贝过程中，会将容器freeze住，在拷贝完成后，恢复容器运行。

### 示例

将主机/test/host目录拷贝到容器21fac8bb9ea8的/test目录下。

```
isula cp /test/host 21fac8bb9ea8:/test
```

将容器21fac8bb9ea8的/www目录拷贝到主机的/tmp目录中。

```
isula cp 21fac8bb9ea8:/www /tmp/
```

## 暂停容器

### 描述

isula pause用于暂停容器中所有的进程，仅支持runtime类型为lcr的容器。

### 用法

```
isula pause CONTAINER [CONTAINER...]
```

### 参数

<a name="zh-cn_topic_0224966142_table45852013111514"></a>
<table><tbody><tr id="zh-cn_topic_0224966142_row1790211601513"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0224966142_p7179821161516"><a name="zh-cn_topic_0224966142_p7179821161516"></a><a name="zh-cn_topic_0224966142_p7179821161516"></a><strong id="zh-cn_topic_0224966142_b91798219151"><a name="zh-cn_topic_0224966142_b91798219151"></a><a name="zh-cn_topic_0224966142_b91798219151"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0224966142_p15179121111511"><a name="zh-cn_topic_0224966142_p15179121111511"></a><a name="zh-cn_topic_0224966142_p15179121111511"></a><strong id="zh-cn_topic_0224966142_b717982112150"><a name="zh-cn_topic_0224966142_b717982112150"></a><a name="zh-cn_topic_0224966142_b717982112150"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0224966142_p10180152151511"><a name="zh-cn_topic_0224966142_p10180152151511"></a><a name="zh-cn_topic_0224966142_p10180152151511"></a><strong id="zh-cn_topic_0224966142_b718015216152"><a name="zh-cn_topic_0224966142_b718015216152"></a><a name="zh-cn_topic_0224966142_b718015216152"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0224966142_row89859561117"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0224966142_p69851856411"><a name="zh-cn_topic_0224966142_p69851856411"></a><a name="zh-cn_topic_0224966142_p69851856411"></a>pause</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0224966142_p549293210212"><a name="zh-cn_topic_0224966142_p549293210212"></a><a name="zh-cn_topic_0224966142_p549293210212"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0224966142_p1049213321528"><a name="zh-cn_topic_0224966142_p1049213321528"></a><a name="zh-cn_topic_0224966142_p1049213321528"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   只有状态为running的容器可以被执行pause操作
-   当容器被pause后，无法执行其他生命周期管理操作（如restart/exec/attach/kill/stop/rm等）
-   当带有健康检查配置的容器被pause后，容器状态最终变为unhealthy状态

### 示例

暂停一个正在运行的容器，命令示例如下：

```
# isula pause 8fe25506fb5883b74c2457f453a960d1ae27a24ee45cdd78fb7426d2022a8bac
 8fe25506fb5883b74c2457f453a960d1ae27a24ee45cdd78fb7426d2022a8bac 
```

## 恢复容器

### 描述

isula unpause用于恢复容器中所有的进程, 为isula pause的逆过程，仅支持runtime类型为lcr的容器。

### 用法

```
isula unpause CONTAINER [CONTAINER...]
```

### 参数

<a name="zh-cn_topic_0224966143_table45852013111514"></a>
<table><tbody><tr id="zh-cn_topic_0224966143_row1790211601513"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0224966143_p7179821161516"><a name="zh-cn_topic_0224966143_p7179821161516"></a><a name="zh-cn_topic_0224966143_p7179821161516"></a><strong id="zh-cn_topic_0224966143_b91798219151"><a name="zh-cn_topic_0224966143_b91798219151"></a><a name="zh-cn_topic_0224966143_b91798219151"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0224966143_p15179121111511"><a name="zh-cn_topic_0224966143_p15179121111511"></a><a name="zh-cn_topic_0224966143_p15179121111511"></a><strong id="zh-cn_topic_0224966143_b717982112150"><a name="zh-cn_topic_0224966143_b717982112150"></a><a name="zh-cn_topic_0224966143_b717982112150"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0224966143_p10180152151511"><a name="zh-cn_topic_0224966143_p10180152151511"></a><a name="zh-cn_topic_0224966143_p10180152151511"></a><strong id="zh-cn_topic_0224966143_b718015216152"><a name="zh-cn_topic_0224966143_b718015216152"></a><a name="zh-cn_topic_0224966143_b718015216152"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0224966143_row89859561117"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0224966143_p69851856411"><a name="zh-cn_topic_0224966143_p69851856411"></a><a name="zh-cn_topic_0224966143_p69851856411"></a>pause</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0224966143_p549293210212"><a name="zh-cn_topic_0224966143_p549293210212"></a><a name="zh-cn_topic_0224966143_p549293210212"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0224966143_p1049213321528"><a name="zh-cn_topic_0224966143_p1049213321528"></a><a name="zh-cn_topic_0224966143_p1049213321528"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
</tbody>
</table>

### 约束限制

-   只有状态为paused的容器可以被执行unpause操作

### 示例

恢复一个被暂停的容器，命令示例如下：

```
# isula unpause 8fe25506fb5883b74c2457f453a960d1ae27a24ee45cdd78fb7426d2022a8bac
 8fe25506fb5883b74c2457f453a960d1ae27a24ee45cdd78fb7426d2022a8bac 
```

## 从服务端实时获取事件消息

### 描述

isula events用于从服务端实时获取容器镜像生命周期、运行等事件消息, 仅支持runtime类型为lcr的容器。

### 用法

```
isula events [OPTIONS]
```

### 参数

<a name="zh-cn_topic_0231454831_table45852013111514"></a>
<table><tbody><tr id="zh-cn_topic_0231454831_row1790211601513"><td class="cellrowborder" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0231454831_p7179821161516"><a name="zh-cn_topic_0231454831_p7179821161516"></a><a name="zh-cn_topic_0231454831_p7179821161516"></a><strong id="zh-cn_topic_0231454831_b91798219151"><a name="zh-cn_topic_0231454831_b91798219151"></a><a name="zh-cn_topic_0231454831_b91798219151"></a>命令</strong></p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0231454831_p15179121111511"><a name="zh-cn_topic_0231454831_p15179121111511"></a><a name="zh-cn_topic_0231454831_p15179121111511"></a><strong id="zh-cn_topic_0231454831_b717982112150"><a name="zh-cn_topic_0231454831_b717982112150"></a><a name="zh-cn_topic_0231454831_b717982112150"></a>参数</strong></p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0231454831_p10180152151511"><a name="zh-cn_topic_0231454831_p10180152151511"></a><a name="zh-cn_topic_0231454831_p10180152151511"></a><strong id="zh-cn_topic_0231454831_b718015216152"><a name="zh-cn_topic_0231454831_b718015216152"></a><a name="zh-cn_topic_0231454831_b718015216152"></a>说明</strong></p>
</td>
</tr>
<tr id="zh-cn_topic_0231454831_row89859561117"><td class="cellrowborder" rowspan="3" valign="top" width="17.333333333333336%"><p id="zh-cn_topic_0231454831_p69851856411"><a name="zh-cn_topic_0231454831_p69851856411"></a><a name="zh-cn_topic_0231454831_p69851856411"></a>events</p>
</td>
<td class="cellrowborder" valign="top" width="39.57575757575758%"><p id="zh-cn_topic_0231454831_p549293210212"><a name="zh-cn_topic_0231454831_p549293210212"></a><a name="zh-cn_topic_0231454831_p549293210212"></a>-H, --host</p>
</td>
<td class="cellrowborder" valign="top" width="43.09090909090909%"><p id="zh-cn_topic_0231454831_p1049213321528"><a name="zh-cn_topic_0231454831_p1049213321528"></a><a name="zh-cn_topic_0231454831_p1049213321528"></a>指定要连接的iSulad socket文件路径</p>
</td>
</tr>
<tr id="zh-cn_topic_0231454831_row287455224012"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0231454831_p687465212409"><a name="zh-cn_topic_0231454831_p687465212409"></a><a name="zh-cn_topic_0231454831_p687465212409"></a>-n, --name</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0231454831_p1087455204011"><a name="zh-cn_topic_0231454831_p1087455204011"></a><a name="zh-cn_topic_0231454831_p1087455204011"></a>获取指定容器的事件消息</p>
</td>
</tr>
<tr id="zh-cn_topic_0231454831_row59371553428"><td class="cellrowborder" valign="top"><p id="zh-cn_topic_0231454831_p199381955421"><a name="zh-cn_topic_0231454831_p199381955421"></a><a name="zh-cn_topic_0231454831_p199381955421"></a>-S, --since</p>
</td>
<td class="cellrowborder" valign="top"><p id="zh-cn_topic_0231454831_p16938145144210"><a name="zh-cn_topic_0231454831_p16938145144210"></a><a name="zh-cn_topic_0231454831_p16938145144210"></a>获取指定时间以来的事件消息</p>
</td>
</tr>
</tbody>
</table>

### 示例

从服务端实时获取事件消息，命令示例如下：

```
# isula events
```

