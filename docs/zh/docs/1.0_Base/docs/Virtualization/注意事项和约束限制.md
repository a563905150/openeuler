# 注意事项和约束限制<a name="ZH-CN_TOPIC_0185970582"></a>

-   热迁移过程中，需要保证网络状态良好。如果发生网络中断，热迁移会暂停，直到网络恢复后才会继续，当发生超时，热迁移会失败。
-   迁移过程中，不允许对虚拟机进行生命周期和管理虚拟机硬件设备等操作。
-   虚拟机正在迁移的过程中，应尽可能保证源端、目的端服务器不被意外下电或重启，否则会导致热迁移失败，甚至可能导致虚拟机被下电。
-   虚拟机正在迁移的过程中，不允许对虚拟机做关机、重启或恢复操作，否则可能会导致热迁移失败，当执行ACPI方式重启时，再执行热迁移会导致虚拟机关闭。

-   只支持同构热迁移，即源端和目的端CPU型号需要相同。
-   跨业务网段虚拟机迁移可以成功，但是到目的端后会出现网络异常，为了防止该情况发生，需要用户保证迁移业务网段一致。
-   如果源端虚拟机vCPU数大于目的端的物理机CPU核数，则迁移后将会影响到虚拟机的性能，应保证目的端物理机CPU核数大于等于源端虚拟机vCPU数。

非共享存储热迁移过程中的额外注意事项：

-   不支持迁移源端和目的端为同一个磁盘镜像文件的迁移，用户需要对该类迁移进行特殊处理，提防覆盖写坏数据而导致镜像损坏。
-   不支持对共享磁盘的迁移，用户需要对该类迁移进行防呆处理。
-   迁移的目的端镜像只支持文件，不支持裸设备，用户需要对目的端是裸设备的迁移进行防呆处理。
-   目的端需要创建与源端大小、数量相同的磁盘镜像，否则迁移失败。
-   混合迁移场景，需要传入迁移的磁盘，不能包括共享和只读的磁盘。

